---
date created: 2025/5/27 16:1
date modified: 2025/6/9 14:45
---
## 1 框架概述

BasicSR 是一个用于图像和视频超分辨率的开源框架，提供了丰富的超分辨率模型和工具，支持多种数据集和评估指标。框架结构清晰，包含模型定义、数据加载、训练和评估等模块，方便研究人员和开发者进行实验和应用。

## 2 模型库与基准

模型库涵盖了图像超分辨率和视频超分辨率两类模型。其中，图像超分辨率模型又分为官方模型和复现模型。

### 2.1 图像超分辨率（Single Image SR）

| 模型名称         | 核心特点                    | 典型配置文件                                  | 支持倍率  | 适用场景        |
| ------------ | ----------------------- | --------------------------------------- | ----- | ----------- |
| **EDSR**     | 无BN残差网络，高PSNR指标，轻量级     | `test_EDSR_Mx2.yml`/`test_EDSR_Lx4.yml` | 2/3/4 | 医学图像、遥感图像   |
| **ESRGAN**   | 基于GAN的视觉优先模型，RRDB块+感知损失 | `test_ESRGAN_x4.yml`                    | 4     | 自然图像、艺术作品修复 |
| **RCAN**     | 通道注意力机制，增强特征选择          | `test_RCAN.yml`                         | 4     | 低分辨率纹理重建    |
| **SRResNet** | GAN生成器基础模型，平衡速度与效果      | `test_MSRResNet_x4.yml`                 | 2/3/4 | 实时预览、移动端应用  |
| **MSRGAN**   | SRResNet+GAN判别器，强化高频细节  | `test_MSRGAN_x4.yml`                    | 4     | 老照片锐化、细节增强  |

### 2.2 视频超分辨率（Video SR）

| 模型名称         | 核心技术                            | 典型配置文件                       | 输入帧数   | 适用场景          |
| ------------ | ------------------------------- | ---------------------------- | ------ | ------------- |
| **BasicVSR** | 双向光流对齐+循环网络，处理中等运动场景            | `test_BasicVSR_REDS.yml`     | -1（全帧） | 监控视频、匀速运动视频   |
| **IconVSR**  | BasicVSR+时序注意力+EDVR特征提取器，抗遮挡能力强 | `test_IconVSR_REDS.yml`      | -1     | 复杂运动视频（如体育赛事） |
| **EDVR**     | 可变形卷积+多帧对齐，支持去模糊与超分联合任务         | `test_EDVR_L_x4_SR_REDS.yml` | 5/7    | 电影修复、动态模糊视频   |
| **DUF**      | 动态滤波器+3D卷积，利用多帧时序信息             | `test_DUF_official.yml`      | 7      | 专业视频后期（如影视制作） |

### 2.3 专项领域模型

| 模型名称          | 领域   | 核心能力                          | 配置文件                    |
| ------------- | ---- | ----------------------------- | ----------------------- |
| **HiFaceGAN** | 人脸修复 | 针对面部结构优化的GAN模型，重建眼睛、毛发等细节     | `test_hifacegan.yml`    |
| **TOF**       | 深度辅助 | 结合飞行时间法获取深度信息，增强立体修复效果（需硬件支持） | `test_TOF_official.yml` |

## 3 测试结果

## 4 图像超分模型分析（以EDSR为例）

### 4.1 性能指标（Set5/Set14/DIV2K100数据集，2倍超分）

| 模型           | 指标   | Set5    | Set14   | DIV2K100 |
| ------------ | ---- | ------- | ------- | -------- |
| **EDSR_Mx2** | PSNR | 35.7769 | 31.4966 | 34.6291  |
|              | SSIM | 0.9442  | 0.8939  | 0.9373   |

### 4.2 可用性与效率

- **模型结构**：采用无BN层的残差块设计，参数量仅136万，支持CPU推理，适合轻量级部署。
- **输入兼容性**：支持bicubic下采样的LR图像，对低分辨率输入（如手机拍摄的模糊图像）修复效果稳定。
- **局限性**：未使用GAN架构，生成图像纹理偏平滑，自然图像细节（如毛发、树叶）不如ESRGAN生动。

### 4.3 效果特征

- **优势场景**：医学影像（需高保真度）、文档扫描件超分，PSNR指标突出，结构失真小。
- **可视化结果**：在DIV2K100的“建筑”类图像中，窗格线条清晰，但天空噪点处理弱于RCAN。

| 模型           | 原图                                 | 超分效果                               |
| ------------ | ---------------------------------- | ---------------------------------- |
| **EDSR_Mx2** | ![[docs/01attachment/docs/Work/赛丰科技/视音频修复识别/BasicSR 框架与视频图像超分模型/IMG-2025-07-18-16-52-39.png]]   | ![[docs/01attachment/docs/Work/赛丰科技/视音频修复识别/BasicSR 框架与视频图像超分模型/IMG-2025-07-18-16-52-39-1.png]] |
|              | ![[IMG-2025-07-18-16-52-39-2.png]] | ![[IMG-2025-07-18-16-52-39-3.png]] |
|              | ![[IMG-2025-07-18-16-52-39-4.png]] | ![[IMG-2025-07-18-16-52-39-5.png]] |

## 5 视频超分模型对比（REDS4/Vid4数据集，4倍超分）

### 5.1 BasicVSR

- **性能指标**：PSNR=31.4171，SSIM=0.8909
- **效率**：单卡（GPU）处理4帧视频耗时约100秒，参数量629万，支持实时性要求不高的场景（如监控视频增强）。
- **效果特点**：
  - 基于光流对齐相邻帧，对匀速运动物体（如行走的人）修复连贯，但大位移场景（如快速行驶的车辆）存在重影。
  - 输入要求：需连续多帧（默认-1表示使用所有帧），单帧输入不可用。

| 模型           | 原视频                                     | 超分效果                                    |
| ------------ | --------------------------------------- | --------------------------------------- |
| **BasicVSR** | ![[docs/01attachment/docs/Work/赛丰科技/视音频修复识别/BasicSR 框架与视频图像超分模型/IMG-2025-07-18-16-52-39.mp4\|000]]   | ![[IMG-2025-07-18-16-52-40.mp4\|000]] |
|              | ![[IMG-2025-07-18-16-52-40-1.mp4\|011]] | ![[IMG-2025-07-18-16-52-40-2.mp4\|011]] |
|              | ![[IMG-2025-07-18-16-52-40-3.mp4\|015]] | ![[IMG-2025-07-18-16-52-40-4.mp4\|015]] |
|              | ![[IMG-2025-07-18-16-52-40-5.mp4\|020]] | ![[IMG-2025-07-18-16-52-40-6.mp4\|020]] |

### 5.2 IconVSR

- **性能指标**：PSNR=31.6714，SSIM=0.8947
- **效率**：参数量869万，推理时间比BasicVSR增加约20%，依赖GPU加速。
- **效果特点**：
  - 引入EDVR特征提取器和时序注意力机制，对复杂运动（如镜头抖动）修复更鲁棒，REDS4的“015”序列（剧烈运动）PSNR比BasicVSR高0.33。
  - 支持关键帧间隔设置（`keyframe_stride=5`），降低长视频计算成本。

### 5.3 DUF（Vid4数据集，7帧输入）

- **性能指标**：PSNR_y=27.3313，SSIM_y=0.8319
- **效率**：52层网络，参数量582万，需8GPU并行训练，单卡推理速度较慢（171帧耗时约70秒）。
- **效果特点**：
  - 动态上采样滤波器设计，对多帧时序信息利用充分，“walk”序列（复杂遮挡）PSNR达30.6，优于BasicVSR的28.4。
  - 局限性：仅支持Y通道评估，RGB色彩修复效果未明确，且依赖特定下采样方式（`use_duf_downsampling=True`）。

## 6 基准测试结果对比（部分模型）

| 模型           | 数据集   | 倍率  | PSNR     | SSIM     | 参数量   | 推理时间（GPU）     |
| ------------ | ----- | --- | -------- | -------- | ----- | ------------- |
| **EDSR_Mx4** | Set14 | 4   | 28.82    | 0.812    | 136 万 | 12ms / 图像     |
| **ESRGAN**   | DIV2K | 4   | 26.51    | 0.897    | 446 万 | 25ms / 图像     |
| **BasicVSR** | REDS4 | 4   | 31.42    | 0.891    | 629 万 | 25s / 视频（4 帧） |
| **IconVSR**  | REDS4 | 4   | 31.67    | 0.895    | 869 万 | 30s / 视频（4 帧） |
| **DUF**      | Vid4  | 4   | 27.33（Y） | 0.832（Y） | 582 万 | 4s / 视频（7 帧）  |

## 7 多维度对比与选型建议

### 7.1 实时性与资源占用

| 模型           | 参数量  | 单卡推理时间（REDS4） | GPU需求   | 实时性支持 |
| ------------ | ---- | ------------- | ------- | ----- |
| **EDSR**     | 136万 | 50ms/图像       | CPU/GPU | 是     |
| **BasicVSR** | 629万 | 25s/视频（4帧）    | GPU     | 否     |
| **IconVSR**  | 869万 | 30s/视频（4帧）    | GPU     | 否     |
| **DUF**      | 582万 | 4s/视频（7帧）     | 多GPU    | 否     |

### 7.2 场景适配矩阵

| 应用场景        | 推荐模型      | 核心优势          | 指标要求              |
| ----------- | --------- | ------------- | ----------------- |
| 单图像超分（保真优先） | EDSR      | PSNR高，结构清晰    | PSNR>35，SSIM>0.93 |
| 单图像超分（视觉优先） | ESRGAN    | 纹理细腻，GAN生成    | 主观评分>4.0（5分制）     |
| 视频超分（普通运动）  | BasicVSR  | 光流对齐，平衡速度与效果  | 时序连贯度>90%         |
| 视频超分（复杂运动）  | IconVSR   | 注意力机制，抗遮挡能力强  | PSNR波动<1.5dB      |
| 专业视频修复（多帧）  | DUF       | 动态滤波，多帧信息利用率高 | 输入帧数≥5            |
| 人脸专属超分      | HiFaceGAN | 面部细节重建（需单独测试） | -                 |

### 7.3 硬件适配

| 模型类型     | 轻量级（CPU/GPU）  | 高性能（多 GPU）       |
| -------- | ------------- | ---------------- |
| **图像超分** | EDSR、SRResNet | ESRGAN、RCAN      |
| **视频超分** | BasicVSR（单卡）  | EDVR、IconVSR、DUF |

### 7.4 推理流程优化

1. **图像超分流水线**：
	`dlib人脸检测` → `EDSR结构修复` → `ESRGAN纹理增强` → `TOF深度优化`（如需立体效果）。
2. **视频超分注意事项**：
	- 动态视频（如体育赛事）优先使用 IconVSR，静态场景可用 BasicVSR 减少计算量。
	- 长视频处理建议启用`cache_data=True`（如 REDS4 配置），缓存中间特征避免重复计算。

### 7.5 效率优化点

- **模型压缩**：EDSR可通过通道剪枝（如将`num_feat=64`降至32）进一步降低计算量，牺牲约1dB PSNR换取2倍推理速度提升。
- **缓存策略**：BasicVSR/IconVSR的`cache_data=True`可复用特征图，减少重复计算，适合长视频分批处理。
- **混合精度推理**：PyTorch 2.7支持FP16优化，IconVSR推理速度可提升40%，显存占用降低50%。

## 8 总结

### 8.1 框架优势

- **模块化设计**：模型、数据集、评估指标解耦，支持快速替换（如从EDSR切换至RCAN仅需修改配置文件）。
- **复现性强**：官方预训练模型与测试脚本对齐，相同配置下指标波动<0.5%。
