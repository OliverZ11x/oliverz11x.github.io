---
date created: 2024/8/9 11:4
date modified: 2024/8/15 14:5
---

此代码实现了一个结合 SQL 代理和 RAG 方法的系统，通过一系列步骤，包括环境设置、知识库准备、向量数据库创建、工具初始化、数据库连接和测试执行，形成了一个完整的工作流程。该系统能够处理自然语言查询，利用知识库增强理解，并通过 SQL 查询从数据库中检索相关数据。

8 月 6 日工作

1. 调研了领域适应技术，命名实体识别（NER）技术，知识图谱构建等优化方法，其中通过 RAG 增强 SQLAgent 方法较其他方法可行性高
2. 2. 开始着手 langchain 框架下 FAISS 的 Vector DB 的搭建。
3. 3. 文档的初步编写

8 月 7 日工作

1. 整理了一份 SQLAgent 模型知识扩展的文档，主要通过 RAG 增强 SQLAgent。但现在主要存在两个问题，一是未能集成智谱的 embedding 模型，二是 SQLAgent 并未能有效记忆或利用这些检索到的知识来优化用户的查询问题。接下来准备针对这两个问题进行改进。
2. 完成了 RAG 增强 SQLAgent 文档的编写

8 月 8 日工作

1. 继续探查 Supersonic 工作原理和实现流程
2. 优化 SQLAgent_RAG, 改进工具调用逻辑，使其能够将检索到的信息有效地用于查询优化或问题重新表述
继续要做的
1. 增加工具传参，加入检索信息
2. 继续改进工具调用逻辑，并持续测试

- **改进工具调用逻辑：** 确保在 SQLAgent 中调用相关工具（如 `SQLAgentRAGRetriever`）时，能够将检索到的信息有效地用于查询优化或问题重新表述。可以在工具调用后添加一个步骤，用于分析和整合检索结果，进一步细化或修改即将执行的 SQL 查询。
- 工具传参调用

这里是你 8 月 7 日的工作日志草稿：

---

**所属部门:** 平台技术组

**日报属期:** 2024-08-07

**今日工作进展与成果:**
1. 整理了一份关于通过 RAG 增强 SQLAgent 的模型知识扩展文档。当前主要面临两个问题：一是未能集成智谱的 embedding 模型，二是 SQLAgent 并未能有效记忆或利用这些检索到的知识来优化用户的查询问题。计划针对这两个问题进行改进。
2. 完成了 RAG 增强 SQLAgent 文档的编写，该文档详细记录了增强过程及当前存在的挑战。

**风险同步及今日思考:**
1. 提高 SQLAgent 通过检索知识优化用户的查询问题能力是接下来的关键任务，这可能需要更多的技术探索和测试。
2. 对于现有的技术问题，需要继续与技术团队合作，寻找更有效的解决方案。

**明日（工作日）计划:**
1. 研究并测试不同的方法来提高 SQLAgent 有效记忆或利用这些检索到的知识来优化用户的查询问题
2. 探索 Supersonic 模型业务知识增强方法

---

请确认这份日志的内容是否准确，或者需要添加其他详细信息。
