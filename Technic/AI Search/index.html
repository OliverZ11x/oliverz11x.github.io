
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../Research/%E5%A4%A7%E8%AE%BA%E6%96%87/%E5%9F%BA%E4%BA%8E%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0%E7%9A%84%E4%B8%AD%E5%BF%83%E5%8A%A8%E8%84%89%E5%8E%8B%E9%87%8D%E6%9E%84%E7%A0%94%E7%A9%B6/">
      
      
        <link rel="next" href="../Docker/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>AI Search - Oliver Z11</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Oliver Z11" class="md-header__button md-logo" aria-label="Oliver Z11" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Oliver Z11
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              AI Search
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Life/Life/" class="md-tabs__link">
          
  
  
  Life

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Log/2025-07-10/" class="md-tabs__link">
          
  
  
  Log

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Research/Research/" class="md-tabs__link">
          
  
  
  Research

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
  Technic

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Work/Work/" class="md-tabs__link">
          
  
  
  Work

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Oliver Z11" class="md-nav__button md-logo" aria-label="Oliver Z11" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Oliver Z11
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Life
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Life
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/Life/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Life
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    旅游
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            旅游
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E6%97%85%E6%B8%B8/%E4%B9%9D%E9%A1%B6%E5%B1%B1%E5%BE%92%E6%AD%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    九顶山徒步
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E6%97%85%E6%B8%B8/%E4%BA%91%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    丽江
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E6%97%85%E6%B8%B8/%E5%9B%9B%E5%B7%9D%E7%BE%8E%E9%99%A2%E7%BE%8E%E6%9C%AF%E9%A6%86%2B%E8%BF%9C%E5%B1%B1%E6%9C%89%E7%AA%91/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    四川美院美术馆+远山有窑
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E6%97%85%E6%B8%B8/%E6%97%85%E6%B8%B8%E6%83%85%E7%BB%AA%E7%AE%A1%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    旅游情绪管理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E6%97%85%E6%B8%B8/%E6%B5%B7%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    海南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E6%97%85%E6%B8%B8/%E8%B4%B5%E5%B7%9E/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    贵州
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E6%97%85%E6%B8%B8/%E8%B4%B5%E5%B7%9E%E6%BC%82%E6%B5%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    贵州漂流
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E6%97%85%E6%B8%B8/%E9%87%91%E5%88%80%E5%B3%A1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    金刀峡
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    记账
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            记账
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E8%AE%B0%E8%B4%A6/investor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Investor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E8%AE%B0%E8%B4%A6/stock/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stock
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E8%AE%B0%E8%B4%A6/%E5%AE%8F%E8%A7%82/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    宏观
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E8%AE%B0%E8%B4%A6/%E8%AE%B0%E8%B4%A6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    记账
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    读书
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            读书
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E8%AF%BB%E4%B9%A6/%E5%85%AB%E6%AC%A1%E5%8D%B1%E6%9C%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    八次危机
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E8%AF%BB%E4%B9%A6/%E5%88%86%E6%9E%90%E4%B8%8E%E6%80%9D%E8%80%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    分析与思考
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E8%AF%BB%E4%B9%A6/%E8%8B%8F%E4%B8%9C%E4%B8%83%E5%9B%BD%E7%A7%81%E6%9C%89%E5%8C%96%E7%9A%84%E8%A7%82%E5%AF%9F%E4%B8%8E%E6%80%9D%E8%80%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    苏东七国私有化的观察与思考
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E8%AF%BB%E4%B9%A6/%E8%B5%84%E6%9C%AC%E8%AE%BA%EF%BC%9A%E6%94%BF%E6%B2%BB%E7%BB%8F%E6%B5%8E%E5%AD%A6%E7%9A%84%E6%89%B9%E5%88%A4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    资本论：政治经济学的批判
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    随记
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            随记
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5_1" >
        
          
          <label class="md-nav__link" for="__nav_2_5_1" id="__nav_2_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    鹏鹏
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5_1">
            <span class="md-nav__icon md-icon"></span>
            鹏鹏
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E9%9A%8F%E8%AE%B0/%E9%B9%8F%E9%B9%8F/v1%20%E5%B0%8F%E5%AD%A6%E7%94%9F%E5%BF%83%E7%90%86%E5%81%A5%E5%BA%B7%E6%95%99%E8%82%B2%E5%AE%9E%E6%96%BD%E9%80%94%E5%BE%84%E5%8F%8A%E5%85%B6%E5%B9%B2%E9%A2%84%E6%8E%AA%E6%96%BD%E7%A0%94%E7%A9%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    开题报告
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E9%9A%8F%E8%AE%B0/%E9%B9%8F%E9%B9%8F/%E5%88%9D%E7%A8%BF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    初稿
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E9%9A%8F%E8%AE%B0/%E9%B9%8F%E9%B9%8F/%E5%8E%9F%E7%A8%BF%20%E5%B0%8F%E5%AD%A6%E7%94%9F%E5%BF%83%E7%90%86%E5%81%A5%E5%BA%B7%E6%95%99%E8%82%B2%E5%AE%9E%E6%96%BD%E9%80%94%E5%BE%84%E5%8F%8A%E5%85%B6%E5%B9%B2%E9%A2%84%E6%8E%AA%E6%96%BD%E7%A0%94%E7%A9%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    原稿 小学生心理健康教育实施途径及其干预措施研究
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E9%9A%8F%E8%AE%B0/%E9%B9%8F%E9%B9%8F/%E5%8F%82%E8%80%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    一、当前我国学校心理问题预警与干预机制存在的问题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E9%9A%8F%E8%AE%B0/%E9%B9%8F%E9%B9%8F/%E6%95%B0%E6%8D%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数据
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E9%9A%8F%E8%AE%B0/%E9%B9%8F%E9%B9%8F/%E8%AE%BA%E6%96%87%E5%A4%A7%E7%BA%B2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    论文大纲
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    食谱
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            食谱
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Life/%E9%A3%9F%E8%B0%B1/%E6%BB%91%E8%9B%8B%E7%89%9B%E8%82%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    食材
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Log
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Log
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Log/2025-07-10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025 07 10
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Log/2025-07-11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025 07 11
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Log/2025-07-12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025 07 12
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Log/2025-07-16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025 07 16
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Log/2025-07-17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025 07 17
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Log/2025-07-18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025 07 18
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Research
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Research
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Research/Research/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Research
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    大论文
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            大论文
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Research/%E5%A4%A7%E8%AE%BA%E6%96%87/%E5%9F%BA%E4%BA%8E%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0%E7%9A%84%E4%B8%AD%E5%BF%83%E5%8A%A8%E8%84%89%E5%8E%8B%E9%87%8D%E6%9E%84%E7%A0%94%E7%A9%B6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    摘要
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Technic
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Technic
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    AI Search
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    AI Search
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 触发技能组
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 提取任务关系
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      示例代码扩展
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 集成触发逻辑
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 确保技能组已正确配置
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. 确保索引器已正确配置
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    <span class="md-ellipsis">
      3. 运行索引器
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 查询索引以获取任务关系
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 验证技能组输出
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    <span class="md-ellipsis">
      1. 确保开发环境准备就绪
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-vs-code" class="md-nav__link">
    <span class="md-ellipsis">
      2. 使用 VS Code 调试
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 使用 VS Code 调试">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#launchjson" class="md-nav__link">
    <span class="md-ellipsis">
      配置 launch.json
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_2" class="md-nav__link">
    <span class="md-ellipsis">
      3. 添加断点
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-api" class="md-nav__link">
    <span class="md-ellipsis">
      4. 通过浏览器或工具测试 API
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5_1" class="md-nav__link">
    <span class="md-ellipsis">
      5. 查看日志
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6. 调试常见问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. 调试常见问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1cosmos-db" class="md-nav__link">
    <span class="md-ellipsis">
      问题 1：Cosmos DB 初始化失败
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2ai-search" class="md-nav__link">
    <span class="md-ellipsis">
      问题 2：AI Search 初始化失败
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3api" class="md-nav__link">
    <span class="md-ellipsis">
      问题 3：API 返回错误
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      7. 运行单元测试
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-reload" class="md-nav__link">
    <span class="md-ellipsis">
      8. 使用 reload 模式快速调试
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1_3" class="md-nav__link">
    <span class="md-ellipsis">
      1. 环境变量或配置问题
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2_2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 路径问题
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 依赖版本问题
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4_1" class="md-nav__link">
    <span class="md-ellipsis">
      4. 日志级别问题
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5_2" class="md-nav__link">
    <span class="md-ellipsis">
      5. 检查异常堆栈
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6_1" class="md-nav__link">
    <span class="md-ellipsis">
      6. 验证调试模式下的依赖
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-uvicorn" class="md-nav__link">
    <span class="md-ellipsis">
      7. 尝试直接运行 Uvicorn
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      解决方法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="解决方法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-cosmos_key" class="md-nav__link">
    <span class="md-ellipsis">
      1. 检查 COSMOS_KEY 的值
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_3" class="md-nav__link">
    <span class="md-ellipsis">
      2. 验证配置文件加载
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-cosmosclient" class="md-nav__link">
    <span class="md-ellipsis">
      3. 更新 CosmosClient 初始化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_2" class="md-nav__link">
    <span class="md-ellipsis">
      4. 调试环境变量加载
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#env" class="md-nav__link">
    <span class="md-ellipsis">
      调试模式下的 . Env 文件支持
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      验证修复
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-env" class="md-nav__link">
    <span class="md-ellipsis">
      1. 检查 . Env 文件内容
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-env" class="md-nav__link">
    <span class="md-ellipsis">
      2. 确保 . Env 文件被加载
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-env" class="md-nav__link">
    <span class="md-ellipsis">
      3. 在调试模式中加载 . Env 文件
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4_3" class="md-nav__link">
    <span class="md-ellipsis">
      4. 验证环境变量加载
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5_3" class="md-nav__link">
    <span class="md-ellipsis">
      5. 重新运行调试
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1_4" class="md-nav__link">
    <span class="md-ellipsis">
      1. 启动后端服务
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-postman" class="md-nav__link">
    <span class="md-ellipsis">
      2. 配置 Postman
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 配置 Postman">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 上传文件接口
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 查询文件处理状态
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 获取处理后的实体
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_4" class="md-nav__link">
    <span class="md-ellipsis">
      3. 调试注意事项
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 调试注意事项">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 检查日志
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 常见问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 后端调试
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4_4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 扩展测试
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1_5" class="md-nav__link">
    <span class="md-ellipsis">
      1. 文件上传入口
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2_4" class="md-nav__link">
    <span class="md-ellipsis">
      2. 初始化处理状态
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_5" class="md-nav__link">
    <span class="md-ellipsis">
      3. 后台任务启动
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4_5" class="md-nav__link">
    <span class="md-ellipsis">
      4. 后台任务处理开始
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5_4" class="md-nav__link">
    <span class="md-ellipsis">
      5. 文件解析
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-ai" class="md-nav__link">
    <span class="md-ellipsis">
      6. AI 分析文档
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7_1" class="md-nav__link">
    <span class="md-ellipsis">
      7. 保存实体到数据库
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    <span class="md-ellipsis">
      8. 处理完成
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    <span class="md-ellipsis">
      9. 错误处理
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1_6" class="md-nav__link">
    <span class="md-ellipsis">
      1. 请求方法错误
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2_5" class="md-nav__link">
    <span class="md-ellipsis">
      2. 未正确配置请求体
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_6" class="md-nav__link">
    <span class="md-ellipsis">
      3. 路由未正确注册
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4_6" class="md-nav__link">
    <span class="md-ellipsis">
      4. 调试步骤
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postman" class="md-nav__link">
    <span class="md-ellipsis">
      示例 Postman 配置
    </span>
  </a>
  
    <nav class="md-nav" aria-label="示例 Postman 配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#post" class="md-nav__link">
    <span class="md-ellipsis">
      请求方法：POST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#url" class="md-nav__link">
    <span class="md-ellipsis">
      URL：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#headers" class="md-nav__link">
    <span class="md-ellipsis">
      Headers：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#body" class="md-nav__link">
    <span class="md-ellipsis">
      Body：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      解决方法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="解决方法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_7" class="md-nav__link">
    <span class="md-ellipsis">
      1. 确保请求中包含文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_6" class="md-nav__link">
    <span class="md-ellipsis">
      2. 验证路由代码
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_7" class="md-nav__link">
    <span class="md-ellipsis">
      3. 检查请求是否正确发送
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-postman" class="md-nav__link">
    <span class="md-ellipsis">
      4. Postman 示例配置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 测试代码
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      解释
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      在您的代码中的应用
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1_8" class="md-nav__link">
    <span class="md-ellipsis">
      1. 启动后端服务
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-postman_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. Postman 测试接口
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Postman 测试接口">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21_1" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 获取实体列表
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22_1" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 获取单个实体
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23_1" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 创建新实体
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 更新实体
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 删除实体
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 获取实体的关系列表
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 添加实体关系
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_8" class="md-nav__link">
    <span class="md-ellipsis">
      3. 调试注意事项
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter_condition" class="md-nav__link">
    <span class="md-ellipsis">
      filter_condition 的定义
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter_condition_1" class="md-nav__link">
    <span class="md-ellipsis">
      filter_condition 的作用
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      示例用法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="示例用法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_9" class="md-nav__link">
    <span class="md-ellipsis">
      1. 无过滤条件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_7" class="md-nav__link">
    <span class="md-ellipsis">
      2. 使用过滤条件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_9" class="md-nav__link">
    <span class="md-ellipsis">
      3. 复杂过滤条件
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      常见字段的过滤示例
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      注意事项
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Kubernetes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kubernetes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Linux%20Ubuntu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux Ubuntu
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../NVIDIA%20%E9%A9%B1%E5%8A%A8%E3%80%81CUDA%20Toolkit%20%E4%B8%8E%20NVCC%20%E5%85%A8%E9%9D%A2%E7%90%86%E8%A7%A3%E7%AC%94%E8%AE%B0%EF%BC%88Ubuntu%20%E7%B3%BB%E7%BB%9F%EF%BC%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NVIDIA 驱动、CUDA Toolkit 与 NVCC 全面理解笔记（Ubuntu 系统）
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Technic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Technic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Ubuntu%20apt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ubuntu apt
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../VScode%20github%20copilot%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VScode github copilot使用指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%9B%B4%E6%96%B0%20NVCC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    更新 NVCC
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_10" >
        
          
          <label class="md-nav__link" for="__nav_5_10" id="__nav_5_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    LLM
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_10">
            <span class="md-nav__icon md-icon"></span>
            LLM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/Manus%20AI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manus AI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/hf%E4%B8%8A%E4%BC%A0%E6%A8%A1%E5%9E%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hf上传模型
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/vllm%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2%E5%90%9E%E5%90%90%E9%87%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vllm模型部署吞吐量
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%9A%84Embedding%E5%B1%82%E5%92%8C%E7%8B%AC%E7%AB%8B%E7%9A%84Embedding%E6%A8%A1%E5%9E%8B%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    大模型的Embedding层和独立的Embedding模型有什么区别？
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B%E5%9F%BA%E5%87%86%E6%8C%87%E6%A0%87%E6%8E%92%E8%A1%8C%E6%A6%9C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    大语言模型基准指标排行榜
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/%E6%A8%A1%E5%9E%8B%E8%87%AA%E5%9B%9E%E5%BD%92%E8%AE%AD%E7%BB%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    模型自回归训练
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_10_7" >
        
          
          <label class="md-nav__link" for="__nav_5_10_7" id="__nav_5_10_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    LangChain
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_10_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_10_7">
            <span class="md-nav__icon md-icon"></span>
            LangChain
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/LangChain/LangChain%20v0.2%20%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LangChain v0.2 学习记录
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/LangChain/LangChain%20%E4%BB%8E%E6%A8%A1%E5%9E%8B%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%84%E5%8C%96%E6%95%B0%E6%8D%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LangChain 结构化数据
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/LangChain/LangChain%20%E5%B7%A5%E5%85%B7%E8%87%AA%E5%AE%9A%E4%B9%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LangChain 工具自定义
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/LangChain/LangChain%20%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LangChain 源码分析
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/LangChain/LangChain%20%E8%AF%84%E4%BC%B0%E6%96%B9%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LangChain 评估方法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/LangChain/LangSmith%20%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LangSmith 学习记录
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/LangChain/Prompt%20Engineering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prompt Engineering
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/LangChain/RAG%20%E5%A2%9E%E5%BC%BA%20SQLAgent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RAG 增强 SQLAgent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/LangChain/SQLAgent%20based%20GLM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SQLAgent based GLM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/LangChain/SQLAgent%20%E6%B5%81%E5%BC%8F%E8%BE%93%E5%87%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SQLAgent 流式输出
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_10_8" >
        
          
          <label class="md-nav__link" for="__nav_5_10_8" id="__nav_5_10_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    NLP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_10_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_10_8">
            <span class="md-nav__icon md-icon"></span>
            NLP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/NLP/Hugging%20Face%20Transformers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hugging Face Transformers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/NLP/Transformer%20%E6%A8%A1%E5%9E%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transformer 模型
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_10_9" >
        
          
          <label class="md-nav__link" for="__nav_5_10_9" id="__nav_5_10_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    文本分类
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_10_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_10_9">
            <span class="md-nav__icon md-icon"></span>
            文本分类
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB/%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB%E4%BB%BB%E5%8A%A1%20Label%20Studio%20%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    文本分类任务 Label Studio 使用指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB/%E6%96%87%E6%9C%AC%E6%95%B0%E6%8D%AE%E6%A0%87%E6%B3%A8%20doccano/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Paddlenlp 之 UIE 分类模型【以情感倾向分析、新闻分类为例】
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB/%E6%96%87%E6%9C%AC%E6%B8%85%E6%B4%97%E5%92%8C%E6%96%87%E6%9C%AC%E5%88%86%E5%89%B2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    文本清洗和文本分割
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../LLM/%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB/%E6%A8%A1%E5%9E%8B%E9%A2%84%E6%B5%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    模型预测
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_11" >
        
          
          <label class="md-nav__link" for="__nav_5_11" id="__nav_5_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Vllm
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_11">
            <span class="md-nav__icon md-icon"></span>
            Vllm
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Vllm/docker%20vllm%20openai%20%E9%83%A8%E7%BD%B2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker vllm openai 部署
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Vllm/vLLM%20%E5%8F%8C%E5%8D%A1A6000%E9%83%A8%E7%BD%B2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    vLLM 双卡A6000部署
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_12" >
        
          
          <label class="md-nav__link" for="__nav_5_12" id="__nav_5_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Obsidian
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_12">
            <span class="md-nav__icon md-icon"></span>
            Obsidian
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../obsidian/Markdown%20%E8%AF%AD%E6%B3%95%E6%8C%87%E5%8D%97/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Markdown 语法指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../obsidian/Obsidian%20%E6%A0%87%E7%AD%BE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Obsidian 标签
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../obsidian/Obsidian%20%E7%BD%91%E9%A1%B5%E5%8F%91%E5%B8%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Obsidian 网页发布
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../obsidian/%E4%BF%9D%E5%AD%98%E7%9F%A5%E8%AF%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    保存知识
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../obsidian/%E5%8F%8C%E9%93%BE%E6%B5%8B%E8%AF%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    双链测试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../obsidian/%E5%B8%B8%E7%94%A8%20Git%20%E5%91%BD%E4%BB%A4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    常用 Git 命令
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_13" >
        
          
          <label class="md-nav__link" for="__nav_5_13" id="__nav_5_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    提示词优化
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_13">
            <span class="md-nav__icon md-icon"></span>
            提示词优化
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%8F%90%E7%A4%BA%E8%AF%8D%E4%BC%98%E5%8C%96/Claude%20%E6%8F%90%E7%A4%BA%E8%AF%8D%E6%8A%80%E5%B7%A7%EF%BC%88%E5%A5%BD%E7%94%A8%EF%BC%89/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Claude 提示词技巧（好用）
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%8F%90%E7%A4%BA%E8%AF%8D%E4%BC%98%E5%8C%96/GraphRAG%E6%8F%90%E7%A4%BA%E8%AF%8D%E6%A8%A1%E6%9D%BF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GraphRAG提示词模板
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%8F%90%E7%A4%BA%E8%AF%8D%E4%BC%98%E5%8C%96/GraphRAG%E6%8F%90%E7%A4%BA%E8%AF%8D%E6%A8%A1%E6%9D%BF%E4%BC%98%E5%8C%96%E7%AD%96%E7%95%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    自动提示调优 ⚙️
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%8F%90%E7%A4%BA%E8%AF%8D%E4%BC%98%E5%8C%96/%E5%BC%95%E7%94%A8%E5%88%97%E8%A1%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    引用列表
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%8F%90%E7%A4%BA%E8%AF%8D%E4%BC%98%E5%8C%96/%E6%8F%90%E7%A4%BA%E8%AF%8D%E4%BC%98%E5%8C%96/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    提示词优化
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%8F%90%E7%A4%BA%E8%AF%8D%E4%BC%98%E5%8C%96/%E6%8F%90%E7%A4%BA%E8%AF%8D%E6%A8%A1%E6%9D%BF%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    提示词模板结构
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%8F%90%E7%A4%BA%E8%AF%8D%E4%BC%98%E5%8C%96/%E7%83%AD%E7%82%B9%E6%96%B0%E9%97%BB%E6%8F%90%E7%A4%BA%E8%AF%8D/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    热点新闻提示词
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_13_8" >
        
          
          <label class="md-nav__link" for="__nav_5_13_8" id="__nav_5_13_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    示例
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_13_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_13_8">
            <span class="md-nav__icon md-icon"></span>
            示例
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E6%8F%90%E7%A4%BA%E8%AF%8D%E4%BC%98%E5%8C%96/%E7%A4%BA%E4%BE%8B/%E7%A4%BA%E4%BE%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    示例
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_14" >
        
          
          <label class="md-nav__link" for="__nav_5_14" id="__nav_5_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    环境配置
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_14">
            <span class="md-nav__icon md-icon"></span>
            环境配置
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/Azure%20Flux%20%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure Flux 环境配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/CUDA%20%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CUDA 环境配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/Git%20%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Git 环境变量
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/LLM%20API%20Key/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM API Key
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/LangChain%20%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LangChain 环境配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/Mkdocs%20%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mkdocs 环境配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/Office%E6%BF%80%E6%B4%BB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Office激活
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/TimesFM%20%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TimesFM 环境配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/Ubuntu24%20Docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ubuntu24 Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/Unsloth%20%E9%A1%B9%E7%9B%AE%E5%AE%89%E8%A3%85/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Unsloth 项目安装
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/WSL2-Ubuntu%20%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WSL2-Ubuntu 安装
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/conda%20%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conda 虚拟环境
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/paddlepaddle%20%E5%AE%89%E8%A3%85/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Paddlepaddle 安装
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Work
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Work
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/Work/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Work
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    求职知识储备
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            求职知识储备
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E6%B1%82%E8%81%8C%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87/DeepSeek/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DeepSeek
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E6%B1%82%E8%81%8C%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87/LLM%20%E6%A8%A1%E5%9E%8B%E5%AD%A6%E4%B9%A0%E6%A6%82%E8%BF%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM 模型概述
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E6%B1%82%E8%81%8C%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87/%E6%96%87%E6%9C%AC%E7%BC%96%E7%A0%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    文本编码
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E6%B1%82%E8%81%8C%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87/%E6%B1%82%E8%81%8C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    求职
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E6%B1%82%E8%81%8C%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87/%E7%A7%8B%E6%8B%9B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    秋招
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E6%B1%82%E8%81%8C%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87/%E9%97%AE%E9%A2%98/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    问题
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E6%B1%82%E8%81%8C%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87/%E9%9D%A2%E8%AF%95%E6%8A%80%E5%B7%A7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    面试技巧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E6%B1%82%E8%81%8C%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87/%E9%9D%A2%E8%AF%95%E7%AE%97%E6%B3%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    面试算法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2_9" >
        
          
          <label class="md-nav__link" for="__nav_6_2_9" id="__nav_6_2_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    字节
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2_9">
            <span class="md-nav__icon md-icon"></span>
            字节
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E6%B1%82%E8%81%8C%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87/%E5%AD%97%E8%8A%82/PPO/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PPO
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E6%B1%82%E8%81%8C%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87/%E5%AD%97%E8%8A%82/%E5%AD%97%E8%8A%82%E8%B7%B3%E5%8A%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    字节跳动
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    赛丰科技
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            赛丰科技
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_1" >
        
          
          <label class="md-nav__link" for="__nav_6_3_1" id="__nav_6_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MCP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_1">
            <span class="md-nav__icon md-icon"></span>
            MCP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/MCP/MCP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MCP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/MCP/MCP%E6%B5%81%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MCP流程
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_1_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3_1_3" id="__nav_6_3_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MCP
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_3_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_1_3">
            <span class="md-nav__icon md-icon"></span>
            MCP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/MCP/MCP/%E4%BB%80%E4%B9%88%E6%98%AFMCP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    什么是MCP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/MCP/MCP/%E5%AE%A2%E6%88%B7%E7%AB%AF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    客户端
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/MCP/MCP/%E6%9C%8D%E5%8A%A1%E7%AB%AFAPI%E6%8E%A5%E5%8F%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    服务端API接口
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/MCP/MCP/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%BC%80%E5%8F%91/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    服务端开发
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_1_3_5" >
        
          
          <label class="md-nav__link" for="__nav_6_3_1_3_5" id="__nav_6_3_1_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Fzno1
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_6_3_1_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_1_3_5">
            <span class="md-nav__icon md-icon"></span>
            Fzno1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/MCP/MCP/fzno1/%E5%AE%A2%E6%88%B7%E7%AB%AF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    客户端
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/MCP/MCP/fzno1/%E7%A4%BE%E5%AA%92MCP%E6%9C%8D%E5%8A%A1%E7%AB%AF/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    社媒MCP服务端
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_1_3_5_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3_1_3_5_3" id="__nav_6_3_1_3_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    客户端
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="6" aria-labelledby="__nav_6_3_1_3_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_1_3_5_3">
            <span class="md-nav__icon md-icon"></span>
            客户端
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/MCP/MCP/fzno1/%E5%AE%A2%E6%88%B7%E7%AB%AF/all/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    All
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/MCP/MCP/fzno1/%E5%AE%A2%E6%88%B7%E7%AB%AF/%E5%AE%A2%E6%88%B7%E7%AB%AFlink/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    客户端link
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/MCP/MCP/fzno1/%E5%AE%A2%E6%88%B7%E7%AB%AF/%E5%AE%A2%E6%88%B7%E7%AB%AFtw/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    客户端tw
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_1_4" >
        
          
          <label class="md-nav__link" for="__nav_6_3_1_4" id="__nav_6_3_1_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Azure
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_6_3_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_1_4">
            <span class="md-nav__icon md-icon"></span>
            Azure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/MCP/azure/%E5%86%85%E5%AE%B9%E7%90%86%E8%A7%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    内容理解
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_2" >
        
          
          <label class="md-nav__link" for="__nav_6_3_2" id="__nav_6_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    RAG
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_2">
            <span class="md-nav__icon md-icon"></span>
            RAG
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/RAG/Graph%20RAG/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Graph RAG
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/RAG/GraphRAG%20%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E6%8F%90%E5%8F%96%E5%92%8C%E5%A2%9E%E5%BC%BA%E6%B5%81%E7%A8%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GraphRAG 知识图谱提取和增强流程
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/RAG/Lazy%20Graph%20RAG/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lazy Graph RAG
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/RAG/RAG%20%E6%96%B9%E6%A1%88%E5%AF%B9%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%9A%84%E4%BC%98%E5%8C%96/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RAG 方案对大模型的优化
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3_3" id="__nav_6_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    人事
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_3">
            <span class="md-nav__icon md-icon"></span>
            人事
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E4%BA%BA%E4%BA%8B/2025%E5%B9%B4%E4%B8%8A%E5%8D%8A%E5%B9%B4%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93%E4%B8%8E%E4%B8%8B%E5%8D%8A%E5%B9%B4%E5%B7%A5%E4%BD%9C%E8%AE%A1%E5%88%92/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025年上半年工作总结与下半年工作计划
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E4%BA%BA%E4%BA%8B/%E7%AC%94%E8%AE%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    笔记
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_4" >
        
          
          <label class="md-nav__link" for="__nav_6_3_4" id="__nav_6_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    具身智能
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_4">
            <span class="md-nav__icon md-icon"></span>
            具身智能
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E5%85%B7%E8%BA%AB%E6%99%BA%E8%83%BD/%E6%8E%A2%E6%9F%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    探查
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_5" >
        
          
          <label class="md-nav__link" for="__nav_6_3_5" id="__nav_6_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    安全测试
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_5">
            <span class="md-nav__icon md-icon"></span>
            安全测试
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E5%AE%89%E5%85%A8%E6%B5%8B%E8%AF%95/guize/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Guize
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E5%AE%89%E5%85%A8%E6%B5%8B%E8%AF%95/%E6%A8%A1%E5%9E%8B%E4%B8%8A%E7%BA%BF%E5%A4%87%E6%A1%88%E8%A1%A8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    模型上线备案表
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E5%AE%89%E5%85%A8%E6%B5%8B%E8%AF%95/%E6%A8%A1%E5%9E%8B%E5%AE%89%E5%85%A8%E8%AF%84%E4%BC%B0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    模型安全评估
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E5%AE%89%E5%85%A8%E6%B5%8B%E8%AF%95/%E6%A8%A1%E5%9E%8B%E5%AE%89%E5%85%A8%E8%AF%84%E4%BC%B0_v2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    第一部分：总叙述
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E5%AE%89%E5%85%A8%E6%B5%8B%E8%AF%95/%E6%A8%A1%E5%9E%8B%E5%AE%89%E5%85%A8%E8%AF%84%E4%BC%B0api%E6%8E%A5%E5%8F%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Xm-phi AI 助手 API 文档
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E5%AE%89%E5%85%A8%E6%B5%8B%E8%AF%95/%E6%A8%A1%E5%9E%8B%E6%9C%8D%E5%8A%A1%E5%8D%8F%E8%AE%AE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    xm-phi-stfRL 用户服务协议
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E5%AE%89%E5%85%A8%E6%B5%8B%E8%AF%95/%E6%A8%A1%E5%9E%8B%E6%9C%8D%E5%8A%A1%E5%8D%8F%E8%AE%AE_v2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    xm-phi 用户服务协议
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E5%AE%89%E5%85%A8%E6%B5%8B%E8%AF%95/%E8%AF%AD%E6%96%99%E5%92%8C%E7%94%9F%E6%88%90%E5%86%85%E5%AE%B9%E6%B5%8B%E8%AF%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    语料和生成内容测试
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_6" >
        
          
          <label class="md-nav__link" for="__nav_6_3_6" id="__nav_6_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    本地模型
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_6">
            <span class="md-nav__icon md-icon"></span>
            本地模型
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9E%8B/DeepSeek-R1%E5%BE%AE%E8%B0%83%E6%95%B0%E6%8D%AE%E9%9B%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DeepSeek R1微调数据集
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9E%8B/Qwen2.5-7B-Instruct%20%E5%BE%AE%E8%B0%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Qwen2.5 7B Instruct 微调
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9E%8B/Qwen3%E6%B5%8B%E8%AF%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Qwen3测试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9E%8B/huggingface%E4%BC%81%E4%B8%9A%E7%89%88/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Huggingface企业版
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9E%8B/minio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Minio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9E%8B/%E6%95%B0%E6%8D%AE%E9%9B%86%E6%9E%84%E5%BB%BA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    数据集构建
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9E%8B/%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9E%8B%20API%20%E6%8E%A5%E5%8F%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    本地模型 API 接口
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9E%8B/%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9E%8B%20openai%20API%20%E6%8E%A5%E5%8F%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    本地模型 openai API 接口
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9E%8B/%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2_%E4%BA%A4%E6%8E%A5%E6%96%87%E6%A1%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    本地模型部署 交接文档
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9E%8B/%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Qwen-14B-instruct 基座模型微调
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9E%8B/%E6%B6%89%E5%8F%B0%E6%8A%A5%E5%91%8A%E7%94%9F%E6%88%90prompt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    涉台报告生成prompt
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E6%9C%AC%E5%9C%B0%E6%A8%A1%E5%9E%8B/%E8%AE%A1%E7%AE%97%E8%B5%84%E6%BA%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    计算资源
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_7" >
        
          
          <label class="md-nav__link" for="__nav_6_3_7" id="__nav_6_3_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    视音频修复识别
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_7">
            <span class="md-nav__icon md-icon"></span>
            视音频修复识别
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E8%A7%86%E9%9F%B3%E9%A2%91%E4%BF%AE%E5%A4%8D%E8%AF%86%E5%88%AB/BasicSR%20%E6%A1%86%E6%9E%B6%E4%B8%8E%E8%A7%86%E9%A2%91%E5%9B%BE%E5%83%8F%E8%B6%85%E5%88%86%E6%A8%A1%E5%9E%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    BasicSR 框架与视频图像超分模型
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E8%A7%86%E9%9F%B3%E9%A2%91%E4%BF%AE%E5%A4%8D%E8%AF%86%E5%88%AB/RealtimeSTT/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RealtimeSTT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E8%A7%86%E9%9F%B3%E9%A2%91%E4%BF%AE%E5%A4%8D%E8%AF%86%E5%88%AB/basicSR/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    basicSR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E8%A7%86%E9%9F%B3%E9%A2%91%E4%BF%AE%E5%A4%8D%E8%AF%86%E5%88%AB/deepface/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deepface
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E8%A7%86%E9%9F%B3%E9%A2%91%E4%BF%AE%E5%A4%8D%E8%AF%86%E5%88%AB/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB%E3%80%81%E5%A3%B0%E9%9F%B3%E4%BF%AE%E5%A4%8D%E3%80%81%E5%A3%B0%E7%BA%B9%E8%AF%86%E5%88%AB%E3%80%81%E8%AF%AD%E9%9F%B3%E8%BD%AC%E5%BD%95%E4%B8%8E%E5%9B%BE%E5%83%8F%E5%A2%9E%E5%BC%BA%E4%BA%A4%E6%8E%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    人脸识别、声音修复、声纹识别、语音转录与图像增强
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E8%A7%86%E9%9F%B3%E9%A2%91%E4%BF%AE%E5%A4%8D%E8%AF%86%E5%88%AB/%E6%A8%A1%E5%9E%8B/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    模型
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E8%A7%86%E9%9F%B3%E9%A2%91%E4%BF%AE%E5%A4%8D%E8%AF%86%E5%88%AB/%E8%AF%AD%E9%9F%B3%E4%BF%AE%E5%A4%8D/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    语音修复
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_8" >
        
          
          <label class="md-nav__link" for="__nav_6_3_8" id="__nav_6_3_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    闭源数据
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3_8">
            <span class="md-nav__icon md-icon"></span>
            闭源数据
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E9%97%AD%E6%BA%90%E6%95%B0%E6%8D%AE/%E9%97%AD%E6%BA%90%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    闭源数据处理
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E9%97%AD%E6%BA%90%E6%95%B0%E6%8D%AE/%E9%97%AD%E6%BA%90%E6%95%B0%E6%8D%AE%E7%BF%BB%E8%AF%91%E6%A8%A1%E5%9E%8B%20API%20%E6%96%87%E6%A1%A3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    闭源数据翻译模型 API 文档
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E8%B5%9B%E4%B8%B0%E7%A7%91%E6%8A%80/%E9%97%AD%E6%BA%90%E6%95%B0%E6%8D%AE/%E9%97%AD%E6%BA%90%E6%95%B0%E6%8D%AE%E7%BF%BB%E8%AF%91%E6%A8%A1%E5%9E%8B%E6%8E%A2%E6%9F%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    闭源数据翻译模型探查
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    高科数聚
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            高科数聚
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4_1" >
        
          
          <label class="md-nav__link" for="__nav_6_4_1" id="__nav_6_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    DBeaver
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4_1">
            <span class="md-nav__icon md-icon"></span>
            DBeaver
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E9%AB%98%E7%A7%91%E6%95%B0%E8%81%9A/DBeaver/DBeaver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DBeaver 数据探查
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E9%AB%98%E7%A7%91%E6%95%B0%E8%81%9A/DBeaver/%E9%A2%84%E6%B5%8B%E6%A8%A1%E5%9E%8B%E7%82%B9%E4%BD%8D%E9%80%89%E5%8F%96-CJ%E5%BA%93%E5%AD%98-0731/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    预测模型点位选取-CJ库存-0731
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4_2" >
        
          
          <label class="md-nav__link" for="__nav_6_4_2" id="__nav_6_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SQLAgent
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4_2">
            <span class="md-nav__icon md-icon"></span>
            SQLAgent
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E9%AB%98%E7%A7%91%E6%95%B0%E8%81%9A/SQLAgent/SQLAgent%20%E6%A8%A1%E5%9E%8B%E7%9F%A5%E8%AF%86%E6%89%A9%E5%B1%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SQLAgent 模型知识扩展
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E9%AB%98%E7%A7%91%E6%95%B0%E8%81%9A/SQLAgent/SQLAgent%20%E6%B5%8B%E8%AF%95/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SQLAgent 测试
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E9%AB%98%E7%A7%91%E6%95%B0%E8%81%9A/SQLAgent/Supersonic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supersonic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E9%AB%98%E7%A7%91%E6%95%B0%E8%81%9A/SQLAgent/%E8%BD%A6%E6%99%BA%E8%A7%81/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    车智见
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E9%AB%98%E7%A7%91%E6%95%B0%E8%81%9A/SQLAgent/%E8%BD%A6%E9%80%9A%E6%B1%87%E6%95%B0%E6%8D%AE%E6%8E%A2%E6%9F%A5%E4%B8%8E%E5%88%86%E6%9E%90/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    车通汇数据探查与分析
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4_3" >
        
          
          <label class="md-nav__link" for="__nav_6_4_3" id="__nav_6_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    舆情分析
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4_3">
            <span class="md-nav__icon md-icon"></span>
            舆情分析
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E9%AB%98%E7%A7%91%E6%95%B0%E8%81%9A/%E8%88%86%E6%83%85%E5%88%86%E6%9E%90/%E5%9F%BA%E4%BA%8E%E6%A3%80%E7%B4%A2%E7%9A%84%E5%A4%9A%E5%B1%82%E6%AC%A1%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    基于检索的多层次文本分类
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E9%AB%98%E7%A7%91%E6%95%B0%E8%81%9A/%E8%88%86%E6%83%85%E5%88%86%E6%9E%90/%E6%96%B9%E6%B3%95%E6%8E%A2%E6%9F%A5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    方法探查
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Work/%E9%AB%98%E7%A7%91%E6%95%B0%E8%81%9A/%E8%88%86%E6%83%85%E5%88%86%E6%9E%90/%E9%9B%B6%E6%A0%B7%E6%9C%AC%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB%E5%BA%94%E7%94%A8%EF%BC%9A%E5%9F%BA%E4%BA%8EUTC%E7%9A%84%E8%88%86%E6%83%85%E6%A0%B7%E6%9C%AC%E5%88%86%E7%B1%BB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    零样本文本分类应用：基于UTC的舆情样本分类
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 触发技能组
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 提取任务关系
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      示例代码扩展
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 集成触发逻辑
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 确保技能组已正确配置
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. 确保索引器已正确配置
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    <span class="md-ellipsis">
      3. 运行索引器
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 查询索引以获取任务关系
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 验证技能组输出
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    <span class="md-ellipsis">
      1. 确保开发环境准备就绪
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-vs-code" class="md-nav__link">
    <span class="md-ellipsis">
      2. 使用 VS Code 调试
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 使用 VS Code 调试">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#launchjson" class="md-nav__link">
    <span class="md-ellipsis">
      配置 launch.json
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_2" class="md-nav__link">
    <span class="md-ellipsis">
      3. 添加断点
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-api" class="md-nav__link">
    <span class="md-ellipsis">
      4. 通过浏览器或工具测试 API
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5_1" class="md-nav__link">
    <span class="md-ellipsis">
      5. 查看日志
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6. 调试常见问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. 调试常见问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1cosmos-db" class="md-nav__link">
    <span class="md-ellipsis">
      问题 1：Cosmos DB 初始化失败
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2ai-search" class="md-nav__link">
    <span class="md-ellipsis">
      问题 2：AI Search 初始化失败
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3api" class="md-nav__link">
    <span class="md-ellipsis">
      问题 3：API 返回错误
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      7. 运行单元测试
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-reload" class="md-nav__link">
    <span class="md-ellipsis">
      8. 使用 reload 模式快速调试
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1_3" class="md-nav__link">
    <span class="md-ellipsis">
      1. 环境变量或配置问题
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2_2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 路径问题
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 依赖版本问题
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4_1" class="md-nav__link">
    <span class="md-ellipsis">
      4. 日志级别问题
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5_2" class="md-nav__link">
    <span class="md-ellipsis">
      5. 检查异常堆栈
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6_1" class="md-nav__link">
    <span class="md-ellipsis">
      6. 验证调试模式下的依赖
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-uvicorn" class="md-nav__link">
    <span class="md-ellipsis">
      7. 尝试直接运行 Uvicorn
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      解决方法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="解决方法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-cosmos_key" class="md-nav__link">
    <span class="md-ellipsis">
      1. 检查 COSMOS_KEY 的值
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_3" class="md-nav__link">
    <span class="md-ellipsis">
      2. 验证配置文件加载
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-cosmosclient" class="md-nav__link">
    <span class="md-ellipsis">
      3. 更新 CosmosClient 初始化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_2" class="md-nav__link">
    <span class="md-ellipsis">
      4. 调试环境变量加载
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#env" class="md-nav__link">
    <span class="md-ellipsis">
      调试模式下的 . Env 文件支持
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      验证修复
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-env" class="md-nav__link">
    <span class="md-ellipsis">
      1. 检查 . Env 文件内容
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-env" class="md-nav__link">
    <span class="md-ellipsis">
      2. 确保 . Env 文件被加载
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-env" class="md-nav__link">
    <span class="md-ellipsis">
      3. 在调试模式中加载 . Env 文件
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4_3" class="md-nav__link">
    <span class="md-ellipsis">
      4. 验证环境变量加载
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5_3" class="md-nav__link">
    <span class="md-ellipsis">
      5. 重新运行调试
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1_4" class="md-nav__link">
    <span class="md-ellipsis">
      1. 启动后端服务
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-postman" class="md-nav__link">
    <span class="md-ellipsis">
      2. 配置 Postman
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 配置 Postman">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 上传文件接口
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 查询文件处理状态
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 获取处理后的实体
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_4" class="md-nav__link">
    <span class="md-ellipsis">
      3. 调试注意事项
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 调试注意事项">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 检查日志
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 常见问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 后端调试
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4_4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 扩展测试
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1_5" class="md-nav__link">
    <span class="md-ellipsis">
      1. 文件上传入口
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2_4" class="md-nav__link">
    <span class="md-ellipsis">
      2. 初始化处理状态
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_5" class="md-nav__link">
    <span class="md-ellipsis">
      3. 后台任务启动
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4_5" class="md-nav__link">
    <span class="md-ellipsis">
      4. 后台任务处理开始
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5_4" class="md-nav__link">
    <span class="md-ellipsis">
      5. 文件解析
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-ai" class="md-nav__link">
    <span class="md-ellipsis">
      6. AI 分析文档
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7_1" class="md-nav__link">
    <span class="md-ellipsis">
      7. 保存实体到数据库
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    <span class="md-ellipsis">
      8. 处理完成
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    <span class="md-ellipsis">
      9. 错误处理
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1_6" class="md-nav__link">
    <span class="md-ellipsis">
      1. 请求方法错误
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2_5" class="md-nav__link">
    <span class="md-ellipsis">
      2. 未正确配置请求体
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_6" class="md-nav__link">
    <span class="md-ellipsis">
      3. 路由未正确注册
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4_6" class="md-nav__link">
    <span class="md-ellipsis">
      4. 调试步骤
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postman" class="md-nav__link">
    <span class="md-ellipsis">
      示例 Postman 配置
    </span>
  </a>
  
    <nav class="md-nav" aria-label="示例 Postman 配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#post" class="md-nav__link">
    <span class="md-ellipsis">
      请求方法：POST
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#url" class="md-nav__link">
    <span class="md-ellipsis">
      URL：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#headers" class="md-nav__link">
    <span class="md-ellipsis">
      Headers：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#body" class="md-nav__link">
    <span class="md-ellipsis">
      Body：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      解决方法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="解决方法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_7" class="md-nav__link">
    <span class="md-ellipsis">
      1. 确保请求中包含文件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_6" class="md-nav__link">
    <span class="md-ellipsis">
      2. 验证路由代码
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_7" class="md-nav__link">
    <span class="md-ellipsis">
      3. 检查请求是否正确发送
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-postman" class="md-nav__link">
    <span class="md-ellipsis">
      4. Postman 示例配置
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 测试代码
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      解释
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      在您的代码中的应用
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1_8" class="md-nav__link">
    <span class="md-ellipsis">
      1. 启动后端服务
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-postman_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. Postman 测试接口
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Postman 测试接口">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21_1" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 获取实体列表
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22_1" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 获取单个实体
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23_1" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 创建新实体
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 更新实体
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 删除实体
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 获取实体的关系列表
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 添加实体关系
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3_8" class="md-nav__link">
    <span class="md-ellipsis">
      3. 调试注意事项
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter_condition" class="md-nav__link">
    <span class="md-ellipsis">
      filter_condition 的定义
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter_condition_1" class="md-nav__link">
    <span class="md-ellipsis">
      filter_condition 的作用
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      示例用法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="示例用法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_9" class="md-nav__link">
    <span class="md-ellipsis">
      1. 无过滤条件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_7" class="md-nav__link">
    <span class="md-ellipsis">
      2. 使用过滤条件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_9" class="md-nav__link">
    <span class="md-ellipsis">
      3. 复杂过滤条件
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      常见字段的过滤示例
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      注意事项
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>AI Search</h1>

<p>OliverZ 11 x: <a class="magiclink magiclink-github magiclink-mention" href="https://github.com/terminal" title="GitHub User: terminal">@terminal</a> /explain (basic) C:\Users\zhaoshiyi\Documents\GitHub\Enhancing-Character-Mining-System-Based-on-Artificial-Intelligence&gt;python -m backend. Main</p>
<p>D:\Anaconda\envs\basic\lib\site-packages\pydantic_internal_config. Py:345: UserWarning: Valid config keys have changed in V 2:</p>
<ul>
<li>'schema_extra' has been renamed to 'json_schema_extra'
  Warnings.Warn (message, UserWarning)
INFO: Will watch for changes in these directories: ['C:\Users\zhaoshiyi\Documents\GitHub\Enhancing-Character-Mining-System-Based-on-Artificial-Intelligence']
INFO: Uvicorn running on <a href="http://0.0.0.0:8000">http://0.0.0.0:8000</a> (Press CTRL+C to quit)
INFO: Started reloader process [38608] using StatReload
D:\Anaconda\envs\basic\lib\site-packages\pydantic_internal_config. Py:345: UserWarning: Valid config keys have changed in V 2:</li>
<li>'schema_extra' has been renamed to 'json_schema_extra'
  Warnings.Warn (message, UserWarning)
INFO: Started server process [38636]
INFO: Waiting for application startup.
2025-04-09 10:11:17,075 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Request URL: '<a href="https://xiaohei.documents.azure.com:443/">https://xiaohei.documents.azure.com:443/</a>'
Request method: 'GET'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'Content-Length': '0'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.10.16 (Windows-10-10.0.26100-SP 0)'
No body was attached to the request
2025-04-09 10:11:17,611 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Response status: 200
Response headers:
    'Content-Length': '1620'
    'Date': 'Wed, 09 Apr 2025 02:11:17 GMT'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'x-ms-gatewayversion': 'REDACTED'
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'x-ms-max-media-storage-usage-mb': 'REDACTED'
    'x-ms-media-storage-usage-mb': 'REDACTED'
    'x-ms-databaseaccount-consumed-mb': 'REDACTED'
    'x-ms-databaseaccount-reserved-mb': 'REDACTED'
    'x-ms-databaseaccount-provisioned-mb': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Content-Location': 'REDACTED'
2025-04-09 10:11:17,612 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Request URL: '<a href="https://xiaohei-southeastasia.documents.azure.com:443/dbs">https://xiaohei-southeastasia.documents.azure.com:443/dbs</a>'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '21'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.10.16 (Windows-10-10.0.26100-SP 0)'
A body is sent with the request
2025-04-09 10:11:18,140 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Response status: 409
Response headers:
    'Content-Length': '7802'
    'Date': 'Wed, 09 Apr 2025 02:11:18 GMT'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'x-ms-gatewayversion': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
2025-04-09 10:11:18,141 - backend. Services. Cosmos_service - INFO - 数据库 jfk_database 已存在
2025-04-09 10:11:18,142 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Request URL: '<a href="https://xiaohei-southeastasia.documents.azure.com:443/dbs/jfk_database/colls/">https://xiaohei-southeastasia.documents.azure.com:443/dbs/jfk_database/colls/</a>'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '40'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.10.16 (Windows-10-10.0.26100-SP 0)'
A body is sent with the request
2025-04-09 10:11:18,338 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Response status: 400
Response headers:
    'Content-Length': '172'
    'Date': 'Wed, 09 Apr 2025 02:11:18 GMT'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'x-ms-gatewayversion': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
2025-04-09 10:11:18,339 - backend. Services. Cosmos_service - ERROR - 初始化数据库失败: (BadRequest) The specified document collection is invalid.
ActivityId: ff 4887 e 3-6 d 6 b-42 c 1-a 110-053 b 894357 a 3, Microsoft. Azure. Documents. Common/2.14.0
Code: BadRequest
Message: The specified document collection is invalid.
ActivityId: ff 4887 e 3-6 d 6 b-42 c 1-a 110-053 b 894357 a 3, Microsoft. Azure. Documents. Common/2.14.0
2025-04-09 10:11:18,339 - backend. Main - ERROR - Cosmos DB 初始化失败
2025-04-09 10:11:18,344 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Request URL: '<a href="https://xiaohei.search.windows.net/indexes('person-relationships">https://xiaohei.search.windows.net/indexes('person-relationships</a>')? Api-version=REDACTED'
Request method: 'PUT'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '6740'
    'api-key': 'REDACTED'
    'Prefer': 'REDACTED'
    'Accept': 'application/json; odata. Metadata=minimal'
    'x-ms-client-request-id': 'ec 545495-14 e 7-11 f 0-beb 0-a 8 e 2910 a 400 d'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.10.16 (Windows-10-10.0.26100-SP 0)'
A body is sent with the request
2025-04-09 10:11:19,311 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata. Metadata=minimal; odata. Streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ec 545495-14 e 7-11 f 0-beb 0-a 8 e 2910 a 400 d'
    'elapsed-time': 'REDACTED'
    'Date': 'Wed, 09 Apr 2025 02:11:19 GMT'
2025-04-09 10:11:19,315 - backend. Services. Ai_search_service - INFO - 索引 person-relationships 创建或更新成功
2025-04-09 10:11:19,315 - backend. Services. Ai_search_service - ERROR - 创建数据源连接失败: 'SearchIndexClient' object has no attribute 'create_or_update_data_source_connection'
2025-04-09 10:11:19,315 - backend. Services. Ai_search_service - ERROR - 初始化 AI Search 失败: 'SearchIndexClient' object has no attribute 'create_or_update_data_source_connection'
2025-04-09 10:11:19,315 - backend. Main - ERROR - AI Search 初始化失败
INFO: Application startup complete.</li>
</ul>
<p>Terminal: 从日志中可以看到两个主要问题：</p>
<ol>
<li><strong>Cosmos DB 初始化失败</strong>：</li>
<li>错误信息：<code>The specified document collection is invalid.</code></li>
<li>可能原因：<ul>
<li>创建集合时的配置参数不正确。</li>
<li>请求的集合名称或分区键不符合 Cosmos DB 的要求。</li>
<li>数据库或集合的吞吐量设置有问题。</li>
</ul>
</li>
</ol>
<p><strong>解决方法</strong>：
   - 检查代码中创建集合的逻辑，确保集合名称和分区键符合 Cosmos DB 的要求。
   - 确保数据库和集合的吞吐量配置正确。
   - 在 <code>backend.services.cosmos_service</code> 中添加更多日志，打印请求的具体参数以便排查问题。</p>
<ol>
<li><strong>AI Search 初始化失败</strong>：</li>
<li>错误信息：<code>'SearchIndexClient' object has no attribute 'create_or_update_data_source_connection'</code></li>
<li>可能原因：<ul>
<li>使用的 Azure SDK 版本不支持 <code>create_or_update_data_source_connection</code> 方法。</li>
<li>方法名称可能已更改或被移除。</li>
</ul>
</li>
</ol>
<p><strong>解决方法</strong>：
   - 检查 <code>azure-search-documents</code> 的版本，确保与代码兼容。
   - 查看 <a href="https://learn.microsoft.com/en-us/azure/search/search-sdk-intro">Azure Search SDK 文档</a> 以确认是否有替代方法。
   - 如果方法已被移除，可能需要使用其他方式创建或更新数据源连接。</p>
<p><strong>建议</strong>：
- 在开发环境中启用更详细的日志级别（如 DEBUG），以便捕获更多上下文信息。
- 确保所有依赖库的版本与代码兼容，特别是 <code>azure-search-documents</code> 和 <code>azure-cosmos</code>。
- 如果问题仍未解决，可以尝试在代码中打印请求参数或使用 Azure Portal 手动验证配置是否正确。</p>
<p>OliverZ 11 x: <a class="magiclink magiclink-github magiclink-mention" href="https://github.com/workspace" title="GitHub User: workspace">@workspace</a> /explain 需要如何触发技能组，提取任务关系</p>
<p>Workspace: 从代码片段来看，这段代码实现了一个搜索功能，主要通过 <code>search_entities</code> 方法从某个搜索服务中检索实体数据。要触发技能组并提取任务关系，通常需要以下几个步骤：</p>
<h3 id="1">1. <strong>触发技能组</strong><a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<ul>
<li>技能组的触发通常依赖于某种输入，比如用户的查询文本（<code>search_text</code>）或特定的过滤条件（<code>filter_condition</code>）。</li>
<li>在当前代码中，<code>search_entities</code> 方法的 <code>search_text</code> 参数可以看作是触发技能组的入口点。你可以通过传递特定的关键词或查询语句来触发不同的技能组。</li>
</ul>
<h3 id="2">2. <strong>提取任务关系</strong><a class="headerlink" href="#2" title="Permanent link">&para;</a></h3>
<ul>
<li>提取任务关系通常需要对搜索结果进行进一步的解析和处理。</li>
<li>当前代码中，<code>search_entities</code> 方法返回的是一个实体列表（<code>entities</code>），每个实体是一个字典。你可以在返回的实体中查找特定的字段或模式来提取任务关系。</li>
<li>如果任务关系需要更复杂的逻辑（比如自然语言处理或图结构分析），可以在 <code>search_entities</code> 方法的基础上添加额外的处理逻辑。</li>
</ul>
<h3 id="_1">示例代码扩展<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>假设你需要在搜索结果中提取任务关系，可以在 <code>search_entities</code> 方法中添加一个后处理步骤：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">search_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_text</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">filter_condition</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">top</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;搜索实体并提取任务关系&quot;&quot;&quot;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>        <span class="c1"># 执行搜索</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>        <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">search_client</span><span class="o">.</span><span class="n">search</span><span class="p">(</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>            <span class="n">search_text</span><span class="o">=</span><span class="n">search_text</span><span class="p">,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>            <span class="nb">filter</span><span class="o">=</span><span class="n">filter_condition</span><span class="p">,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>            <span class="n">top</span><span class="o">=</span><span class="n">top</span><span class="p">,</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>            <span class="n">include_total_count</span><span class="o">=</span><span class="kc">True</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        <span class="p">)</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>        <span class="c1"># 转换结果</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>        <span class="n">entities</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>        <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>            <span class="n">entity</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>            <span class="n">entities</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>        <span class="c1"># 提取任务关系</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>        <span class="n">task_relations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_task_relations</span><span class="p">(</span><span class="n">entities</span><span class="p">)</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>        <span class="k">return</span> <span class="n">task_relations</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;搜索实体失败: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>        <span class="k">raise</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="k">def</span><span class="w"> </span><span class="nf">extract_task_relations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entities</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;从实体中提取任务关系&quot;&quot;&quot;</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>    <span class="n">task_relations</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>    <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="n">entities</span><span class="p">:</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>        <span class="c1"># 假设实体包含 &#39;task&#39; 和 &#39;relation&#39; 字段</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>        <span class="k">if</span> <span class="s1">&#39;task&#39;</span> <span class="ow">in</span> <span class="n">entity</span> <span class="ow">and</span> <span class="s1">&#39;relation&#39;</span> <span class="ow">in</span> <span class="n">entity</span><span class="p">:</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>            <span class="n">task_relations</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>                <span class="s1">&#39;task&#39;</span><span class="p">:</span> <span class="n">entity</span><span class="p">[</span><span class="s1">&#39;task&#39;</span><span class="p">],</span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>                <span class="s1">&#39;relation&#39;</span><span class="p">:</span> <span class="n">entity</span><span class="p">[</span><span class="s1">&#39;relation&#39;</span><span class="p">]</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>            <span class="p">})</span>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>    <span class="k">return</span> <span class="n">task_relations</span>
</span></code></pre></div>
<h3 id="3">3. <strong>集成触发逻辑</strong><a class="headerlink" href="#3" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>在调用 <code>search_entities</code> 方法时，传入适当的 <code>search_text</code> 和 <code>filter_condition</code> 参数。例如：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">search_text</span> <span class="o">=</span> <span class="s2">&quot;技能组:任务关系&quot;</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">filter_condition</span> <span class="o">=</span> <span class="s2">&quot;type eq &#39;task&#39;&quot;</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="n">task_relations</span> <span class="o">=</span> <span class="n">ai_search_service</span><span class="o">.</span><span class="n">search_entities</span><span class="p">(</span><span class="n">search_text</span><span class="p">,</span> <span class="n">filter_condition</span><span class="p">)</span>
</span></code></pre></div>
</li>
</ul>
<h3 id="_2">总结<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>通过扩展 <code>search_entities</code> 方法并添加 <code>extract_task_relations</code> 方法，可以在搜索结果中提取任务关系。触发技能组的关键在于设计合适的查询文本和过滤条件，以便从搜索服务中获取相关数据。</p>
<p>OliverZ 11 x: <a class="magiclink magiclink-github magiclink-mention" href="https://github.com/workspace" title="GitHub User: workspace">@workspace</a> /explain 需要如何触发技能组，提取任务关系</p>
<p>Workspace: 要触发技能组并提取任务关系，您需要确保以下几个步骤已经完成：</p>
<h3 id="1_1">1. <strong>确保技能组已正确配置</strong><a class="headerlink" href="#1_1" title="Permanent link">&para;</a></h3>
<p>在代码中，技能组通过 <code>_create_skillset</code> 方法定义并创建。技能组中包含了一个 <code>WebApiSkill</code>，用于提取人物之间的关系。确保以下内容正确：</p>
<ul>
<li><code>WebApiSkill</code> 的 <code>uri</code> 指向一个有效的 Web API 端点。</li>
<li>输入字段（<code>inputs</code>）和输出字段（<code>outputs</code>）正确映射。</li>
<li>技能组名称（<code>AZURE_SEARCH_SKILLSET_NAME</code>）与索引器中引用的名称一致。</li>
</ul>
<h3 id="2_1">2. <strong>确保索引器已正确配置</strong><a class="headerlink" href="#2_1" title="Permanent link">&para;</a></h3>
<p>索引器通过 <code>_create_indexer</code> 方法创建。索引器将技能组与数据源和索引关联起来。确保以下内容：</p>
<ul>
<li>数据源连接（<code>_create_data_source</code>）已正确配置并指向有效的 Cosmos DB 容器。</li>
<li>索引器的 <code>skillset_name</code> 与技能组的名称一致。</li>
<li>输出字段映射（<code>output_field_mappings</code>）将技能组的输出（如 <code>relationships</code>）正确映射到索引字段。</li>
</ul>
<h3 id="3_1">3. <strong>运行索引器</strong><a class="headerlink" href="#3_1" title="Permanent link">&para;</a></h3>
<p>索引器是触发技能组的关键。通过运行索引器，数据将从数据源中提取，经过技能组处理后写入索引。可以通过以下代码运行索引器：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">run_indexer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;运行索引器以触发技能组&quot;&quot;&quot;</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>        <span class="n">indexer_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">AZURE_SEARCH_INDEX_NAME</span><span class="si">}</span><span class="s2">-indexer&quot;</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">indexer_client</span><span class="o">.</span><span class="n">run_indexer</span><span class="p">(</span><span class="n">indexer_name</span><span class="p">)</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;索引器 </span><span class="si">{</span><span class="n">indexer_name</span><span class="si">}</span><span class="s2"> 已成功运行&quot;</span><span class="p">)</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;运行索引器失败: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>        <span class="k">raise</span>
</span></code></pre></div>
<p>调用 <code>run_indexer</code> 方法后，技能组将被触发，<code>WebApiSkill</code> 会调用指定的 API 提取任务关系。</p>
<h3 id="4">4. <strong>查询索引以获取任务关系</strong><a class="headerlink" href="#4" title="Permanent link">&para;</a></h3>
<p>运行索引器后，技能组的输出（如 <code>relationships</code>）会被写入索引。您可以通过 <code>search_entities</code> 方法查询索引并获取任务关系。例如：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_relationships</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">search_text</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;查询索引以获取任务关系&quot;&quot;&quot;</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>    <span class="k">try</span><span class="p">:</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>        <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">search_entities</span><span class="p">(</span><span class="n">search_text</span><span class="o">=</span><span class="n">search_text</span><span class="p">,</span> <span class="n">filter_condition</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>        <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>            <span class="n">relationships</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;relationships&quot;</span><span class="p">,</span> <span class="p">[])</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;任务关系: </span><span class="si">{</span><span class="n">relationships</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>        <span class="k">return</span> <span class="n">results</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;查询任务关系失败: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>        <span class="k">raise</span>
</span></code></pre></div>
<p>调用示例：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">ai_search_service</span> <span class="o">=</span> <span class="n">AISearchService</span><span class="p">()</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">ai_search_service</span><span class="o">.</span><span class="n">get_relationships</span><span class="p">(</span><span class="n">search_text</span><span class="o">=</span><span class="s2">&quot;某个任务或人物关键字&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="5">5. <strong>验证技能组输出</strong><a class="headerlink" href="#5" title="Permanent link">&para;</a></h3>
<p>确保技能组的输出字段（如 <code>relationships</code>）在索引中正确存储。可以通过 Azure 门户或 <code>get_document</code> 方法检查索引中的文档内容。</p>
<h3 id="_3">总结<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>触发技能组并提取任务关系的流程如下：</p>
<ol>
<li>确保技能组和索引器配置正确。</li>
<li>调用 <code>run_indexer</code> 方法运行索引器。</li>
<li>使用 <code>search_entities</code> 或类似方法查询索引，获取技能组的输出（如任务关系）。</li>
</ol>
<p>如果您在任何步骤中遇到问题，可以检查日志或调试相关代码以定位问题。</p>
<p>OliverZ 11 x: 我需要调试这个后端程序，应该如何调试</p>
<p>GitHub Copilot: 要调试这个后端程序，可以按照以下步骤操作：</p>
<hr />
<h3 id="1_2">1. <strong>确保开发环境准备就绪</strong><a class="headerlink" href="#1_2" title="Permanent link">&para;</a></h3>
<ul>
<li>确保安装了所有依赖项：</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</span></code></pre></div>
<ul>
<li>确保 Azure 服务（如 Cosmos DB 和 Azure Search）已正确配置，并且相关的 API 密钥和连接字符串在配置文件中正确设置。</li>
</ul>
<hr />
<h3 id="2-vs-code">2. <strong>使用 VS Code 调试</strong><a class="headerlink" href="#2-vs-code" title="Permanent link">&para;</a></h3>
<p>在 VS Code 中，可以通过以下步骤调试：</p>
<h4 id="launchjson">配置 <code>launch.json</code><a class="headerlink" href="#launchjson" title="Permanent link">&para;</a></h4>
<ol>
<li>打开 <code>.vscode/launch.json</code> 文件（如果没有，创建一个）。</li>
<li>添加以下配置：</li>
</ol>
<div class="language-json highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="p">{</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.2.0&quot;</span><span class="p">,</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">    </span><span class="nt">&quot;configurations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Python: FastAPI&quot;</span><span class="p">,</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">            </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;launch&quot;</span><span class="p">,</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">            </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uvicorn&quot;</span><span class="p">,</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">            </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">                </span><span class="s2">&quot;backend.main:app&quot;</span><span class="p">,</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">                </span><span class="s2">&quot;--host&quot;</span><span class="p">,</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="w">                </span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="w">                </span><span class="s2">&quot;--port&quot;</span><span class="p">,</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="w">                </span><span class="s2">&quot;8000&quot;</span><span class="p">,</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="w">                </span><span class="s2">&quot;--reload&quot;</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="w">            </span><span class="p">],</span>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="w">            </span><span class="nt">&quot;jinja&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="w">    </span><span class="p">]</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="p">}</span>
</span></code></pre></div>
<ol>
<li>按 <code>F5</code> 启动调试器，程序会在调试模式下运行。</li>
</ol>
<hr />
<h3 id="3_2">3. <strong>添加断点</strong><a class="headerlink" href="#3_2" title="Permanent link">&para;</a></h3>
<ul>
<li>在代码中点击行号左侧，添加断点。例如：</li>
<li>在 <code>startup_event</code> 方法中添加断点，检查服务初始化是否成功。</li>
<li>在 <code>AISearchService</code> 的 <code>initialize_search_service</code> 方法中添加断点，调试技能组或索引器的创建过程。</li>
</ul>
<hr />
<h3 id="4-api">4. <strong>通过浏览器或工具测试 API</strong><a class="headerlink" href="#4-api" title="Permanent link">&para;</a></h3>
<ul>
<li>启动程序后，访问 Swagger 文档（默认地址为 <code>http://127.0.0.1:8000/docs</code>），测试各个 API。</li>
<li>使用工具如 Postman 或 cURL 发送请求，检查返回结果是否符合预期。</li>
</ul>
<hr />
<h3 id="5_1">5. <strong>查看日志</strong><a class="headerlink" href="#5_1" title="Permanent link">&para;</a></h3>
<ul>
<li>日志配置在 main. Py 中，默认级别为 <code>INFO</code>。如果需要更详细的日志，可以将级别改为 <code>DEBUG</code>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>    <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>    <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%(asctime)s</span><span class="s2"> - </span><span class="si">%(name)s</span><span class="s2"> - </span><span class="si">%(levelname)s</span><span class="s2"> - </span><span class="si">%(message)s</span><span class="s2">&quot;</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="p">)</span>
</span></code></pre></div>
<ul>
<li>在终端中查看日志输出，定位问题。</li>
</ul>
<hr />
<h3 id="6">6. <strong>调试常见问题</strong><a class="headerlink" href="#6" title="Permanent link">&para;</a></h3>
<h4 id="1cosmos-db">问题 1：Cosmos DB 初始化失败<a class="headerlink" href="#1cosmos-db" title="Permanent link">&para;</a></h4>
<ul>
<li>检查 <code>CosmosDBService.initialize_database()</code> 方法的实现，确保连接字符串和容器名称正确。</li>
<li>在 Azure Portal 中验证 Cosmos DB 的状态。</li>
</ul>
<h4 id="2ai-search">问题 2：AI Search 初始化失败<a class="headerlink" href="#2ai-search" title="Permanent link">&para;</a></h4>
<ul>
<li>检查 <code>AISearchService.initialize_search_service()</code> 方法，确保索引、技能组和索引器的配置正确。</li>
<li>在 Azure Portal 中检查 Azure Cognitive Search 的索引和技能组状态。</li>
</ul>
<h4 id="3api">问题 3：API 返回错误<a class="headerlink" href="#3api" title="Permanent link">&para;</a></h4>
<ul>
<li>在相关路由（如 <code>entity_routes</code> 或 <code>conversation_routes</code>）中添加断点，逐步调试请求的处理逻辑。</li>
</ul>
<hr />
<h3 id="7">7. <strong>运行单元测试</strong><a class="headerlink" href="#7" title="Permanent link">&para;</a></h3>
<p>如果项目包含测试文件，可以运行测试以验证功能：</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>pytest
</span></code></pre></div>
<p>确保测试覆盖了关键功能，如数据库初始化、技能组触发和 API 响应。</p>
<hr />
<h3 id="8-reload">8. <strong>使用 <code>reload</code> 模式快速调试</strong><a class="headerlink" href="#8-reload" title="Permanent link">&para;</a></h3>
<p><code>uvicorn</code> 的 <code>--reload</code> 参数会在代码更改时自动重启服务，方便快速调试。</p>
<hr />
<p>通过以上步骤，您可以高效调试后端程序并定位问题。如果遇到特定错误，可以提供详细日志，我可以进一步协助分析。</p>
<p>找到具有 1 个许可证类型的类似代码</p>
<p>OliverZ 11 x: 使用 launch. Json 调试的出现 ERROR: Application startup failed. Exiting. 但是正常执行 python-m backend. Main 的时候会返回，并正常运行：</p>
<p>2025-04-10 11:26:36,475 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Request URL: '<a href="https://xiaohei.documents.azure.com:443/">https://xiaohei.documents.azure.com:443/</a>'</p>
<p>Request method: 'GET'</p>
<p>Request headers:</p>
<div class="language-text highlight"><pre><span></span><code>&#39;Cache-Control&#39;: &#39;no-cache&#39;

&#39;x-ms-version&#39;: &#39;REDACTED&#39;

&#39;x-ms-documentdb-query-iscontinuationexpected&#39;: &#39;REDACTED&#39;

&#39;x-ms-date&#39;: &#39;REDACTED&#39;

&#39;authorization&#39;: &#39;REDACTED&#39;

&#39;Accept&#39;: &#39;application/json&#39;

&#39;Content-Length&#39;: &#39;0&#39;

&#39;User-Agent&#39;: &#39;azsdk-python-cosmos/4.5.1 Python/3.10.16 (Windows-10-10.0.26100-SP 0)&#39;
</code></pre></div>
<p>No body was attached to the request</p>
<p>2025-04-10 11:26:37,555 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Response status: 200</p>
<p>Response headers:</p>
<div class="language-text highlight"><pre><span></span><code>&#39;Content-Length&#39;: &#39;1620&#39;

&#39;Date&#39;: &#39;Thu, 10 Apr 2025 03:26:38 GMT&#39;

&#39;Content-Type&#39;: &#39;application/json&#39;

&#39;Server&#39;: &#39;Microsoft-HTTPAPI/2.0&#39;

&#39;x-ms-gatewayversion&#39;: &#39;REDACTED&#39;

&#39;Cache-Control&#39;: &#39;no-store, no-cache&#39;

&#39;Pragma&#39;: &#39;no-cache&#39;

&#39;x-ms-max-media-storage-usage-mb&#39;: &#39;REDACTED&#39;

&#39;x-ms-media-storage-usage-mb&#39;: &#39;REDACTED&#39;

&#39;x-ms-databaseaccount-consumed-mb&#39;: &#39;REDACTED&#39;

&#39;x-ms-databaseaccount-reserved-mb&#39;: &#39;REDACTED&#39;

&#39;x-ms-databaseaccount-provisioned-mb&#39;: &#39;REDACTED&#39;

&#39;Strict-Transport-Security&#39;: &#39;REDACTED&#39;

&#39;Content-Location&#39;: &#39;REDACTED&#39;
</code></pre></div>
<p>2025-04-10 11:26:37,556 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Request URL: '<a href="https://xiaohei-southeastasia.documents.azure.com:443/dbs">https://xiaohei-southeastasia.documents.azure.com:443/dbs</a>'</p>
<p>Request method: 'POST'</p>
<p>Request headers:</p>
<div class="language-text highlight"><pre><span></span><code>&#39;Cache-Control&#39;: &#39;no-cache&#39;

&#39;x-ms-version&#39;: &#39;REDACTED&#39;

&#39;x-ms-documentdb-query-iscontinuationexpected&#39;: &#39;REDACTED&#39;

&#39;x-ms-consistency-level&#39;: &#39;REDACTED&#39;

&#39;x-ms-date&#39;: &#39;REDACTED&#39;

&#39;authorization&#39;: &#39;REDACTED&#39;

&#39;Content-Type&#39;: &#39;application/json&#39;

&#39;Accept&#39;: &#39;application/json&#39;

&#39;Content-Length&#39;: &#39;21&#39;

&#39;User-Agent&#39;: &#39;azsdk-python-cosmos/4.5.1 Python/3.10.16 (Windows-10-10.0.26100-SP 0)&#39;
</code></pre></div>
<p>A body is sent with the request</p>
<p>2025-04-10 11:26:38,537 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Response status: 409</p>
<p>Response headers:</p>
<div class="language-text highlight"><pre><span></span><code>&#39;Content-Length&#39;: &#39;7798&#39;

&#39;Date&#39;: &#39;Thu, 10 Apr 2025 03:26:40 GMT&#39;

&#39;Content-Type&#39;: &#39;application/json&#39;

&#39;Server&#39;: &#39;Microsoft-HTTPAPI/2.0&#39;

&#39;x-ms-gatewayversion&#39;: &#39;REDACTED&#39;

&#39;x-ms-activity-id&#39;: &#39;REDACTED&#39;

&#39;x-ms-last-state-change-utc&#39;: &#39;REDACTED&#39;

&#39;x-ms-schemaversion&#39;: &#39;REDACTED&#39;

&#39;lsn&#39;: &#39;REDACTED&#39;

&#39;x-ms-request-charge&#39;: &#39;REDACTED&#39;

&#39;x-ms-quorum-acked-lsn&#39;: &#39;REDACTED&#39;

&#39;x-ms-current-write-quorum&#39;: &#39;REDACTED&#39;

&#39;x-ms-current-replica-set-size&#39;: &#39;REDACTED&#39;

&#39;x-ms-xp-role&#39;: &#39;REDACTED&#39;

&#39;x-ms-global-Committed-lsn&#39;: &#39;REDACTED&#39;

&#39;x-ms-number-of-read-regions&#39;: &#39;REDACTED&#39;

&#39;x-ms-transport-request-id&#39;: &#39;REDACTED&#39;

&#39;x-ms-cosmos-llsn&#39;: &#39;REDACTED&#39;

&#39;x-ms-cosmos-quorum-acked-llsn&#39;: &#39;REDACTED&#39;

&#39;x-ms-session-token&#39;: &#39;REDACTED&#39;

&#39;x-ms-request-duration-ms&#39;: &#39;REDACTED&#39;

&#39;x-ms-serviceversion&#39;: &#39;REDACTED&#39;

&#39;x-ms-cosmos-internal-partition-id&#39;: &#39;REDACTED&#39;

&#39;Strict-Transport-Security&#39;: &#39;REDACTED&#39;
</code></pre></div>
<p>2025-04-10 11:26:38,538 - backend. Services. Cosmos_service - INFO - 数据库 jfk_database 已存在</p>
<p>2025-04-10 11:26:38,539 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Request URL: '<a href="https://xiaohei-southeastasia.documents.azure.com:443/dbs/jfk_database/colls/">https://xiaohei-southeastasia.documents.azure.com:443/dbs/jfk_database/colls/</a>'</p>
<p>Request method: 'POST'</p>
<p>Request headers:</p>
<div class="language-text highlight"><pre><span></span><code>&#39;Cache-Control&#39;: &#39;no-cache&#39;

&#39;x-ms-version&#39;: &#39;REDACTED&#39;

&#39;x-ms-documentdb-query-iscontinuationexpected&#39;: &#39;REDACTED&#39;

&#39;x-ms-consistency-level&#39;: &#39;REDACTED&#39;

&#39;x-ms-date&#39;: &#39;REDACTED&#39;

&#39;authorization&#39;: &#39;REDACTED&#39;

&#39;Content-Type&#39;: &#39;application/json&#39;

&#39;Accept&#39;: &#39;application/json&#39;

&#39;Content-Length&#39;: &#39;78&#39;

&#39;User-Agent&#39;: &#39;azsdk-python-cosmos/4.5.1 Python/3.10.16 (Windows-10-10.0.26100-SP 0)&#39;
</code></pre></div>
<p>A body is sent with the request</p>
<p>2025-04-10 11:26:38,831 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Response status: 409</p>
<p>Response headers:</p>
<div class="language-text highlight"><pre><span></span><code>&#39;Content-Length&#39;: &#39;419&#39;

&#39;Date&#39;: &#39;Thu, 10 Apr 2025 03:26:40 GMT&#39;

&#39;Content-Type&#39;: &#39;application/json&#39;

&#39;Server&#39;: &#39;Microsoft-HTTPAPI/2.0&#39;

&#39;x-ms-gatewayversion&#39;: &#39;REDACTED&#39;

&#39;x-ms-activity-id&#39;: &#39;REDACTED&#39;

&#39;x-ms-last-state-change-utc&#39;: &#39;REDACTED&#39;

&#39;x-ms-schemaversion&#39;: &#39;REDACTED&#39;

&#39;lsn&#39;: &#39;REDACTED&#39;

&#39;x-ms-request-charge&#39;: &#39;REDACTED&#39;

&#39;x-ms-quorum-acked-lsn&#39;: &#39;REDACTED&#39;

&#39;x-ms-current-write-quorum&#39;: &#39;REDACTED&#39;

&#39;x-ms-current-replica-set-size&#39;: &#39;REDACTED&#39;

&#39;x-ms-xp-role&#39;: &#39;REDACTED&#39;

&#39;x-ms-global-Committed-lsn&#39;: &#39;REDACTED&#39;

&#39;x-ms-number-of-read-regions&#39;: &#39;REDACTED&#39;

&#39;x-ms-transport-request-id&#39;: &#39;REDACTED&#39;

&#39;x-ms-cosmos-llsn&#39;: &#39;REDACTED&#39;

&#39;x-ms-cosmos-quorum-acked-llsn&#39;: &#39;REDACTED&#39;

&#39;x-ms-session-token&#39;: &#39;REDACTED&#39;

&#39;x-ms-request-duration-ms&#39;: &#39;REDACTED&#39;

&#39;x-ms-serviceversion&#39;: &#39;REDACTED&#39;

&#39;Strict-Transport-Security&#39;: &#39;REDACTED&#39;
</code></pre></div>
<p>2025-04-10 11:26:38,832 - backend. Services. Cosmos_service - INFO - 容器 Entities 已存在</p>
<p>2025-04-10 11:26:38,833 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Request URL: '<a href="https://xiaohei-southeastasia.documents.azure.com:443/dbs/jfk_database/colls/">https://xiaohei-southeastasia.documents.azure.com:443/dbs/jfk_database/colls/</a>'</p>
<p>Request method: 'POST'</p>
<p>Request headers:</p>
<div class="language-text highlight"><pre><span></span><code>&#39;Cache-Control&#39;: &#39;no-cache&#39;

&#39;x-ms-version&#39;: &#39;REDACTED&#39;

&#39;x-ms-documentdb-query-iscontinuationexpected&#39;: &#39;REDACTED&#39;

&#39;x-ms-consistency-level&#39;: &#39;REDACTED&#39;

&#39;x-ms-date&#39;: &#39;REDACTED&#39;

&#39;authorization&#39;: &#39;REDACTED&#39;

&#39;Content-Type&#39;: &#39;application/json&#39;

&#39;Accept&#39;: &#39;application/json&#39;

&#39;Content-Length&#39;: &#39;88&#39;

&#39;User-Agent&#39;: &#39;azsdk-python-cosmos/4.5.1 Python/3.10.16 (Windows-10-10.0.26100-SP 0)&#39;
</code></pre></div>
<p>A body is sent with the request</p>
<p>2025-04-10 11:26:39,117 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Response status: 409</p>
<p>Response headers:</p>
<div class="language-text highlight"><pre><span></span><code>&#39;Content-Length&#39;: &#39;419&#39;

&#39;Date&#39;: &#39;Thu, 10 Apr 2025 03:26:40 GMT&#39;

&#39;Content-Type&#39;: &#39;application/json&#39;

&#39;Server&#39;: &#39;Microsoft-HTTPAPI/2.0&#39;

&#39;x-ms-gatewayversion&#39;: &#39;REDACTED&#39;

&#39;x-ms-activity-id&#39;: &#39;REDACTED&#39;

&#39;x-ms-last-state-change-utc&#39;: &#39;REDACTED&#39;

&#39;x-ms-schemaversion&#39;: &#39;REDACTED&#39;

&#39;lsn&#39;: &#39;REDACTED&#39;

&#39;x-ms-request-charge&#39;: &#39;REDACTED&#39;

&#39;x-ms-quorum-acked-lsn&#39;: &#39;REDACTED&#39;

&#39;x-ms-current-write-quorum&#39;: &#39;REDACTED&#39;

&#39;x-ms-current-replica-set-size&#39;: &#39;REDACTED&#39;

&#39;x-ms-xp-role&#39;: &#39;REDACTED&#39;

&#39;x-ms-global-Committed-lsn&#39;: &#39;REDACTED&#39;

&#39;x-ms-number-of-read-regions&#39;: &#39;REDACTED&#39;

&#39;x-ms-transport-request-id&#39;: &#39;REDACTED&#39;

&#39;x-ms-cosmos-llsn&#39;: &#39;REDACTED&#39;

&#39;x-ms-cosmos-quorum-acked-llsn&#39;: &#39;REDACTED&#39;

&#39;x-ms-session-token&#39;: &#39;REDACTED&#39;

&#39;x-ms-request-duration-ms&#39;: &#39;REDACTED&#39;

&#39;x-ms-serviceversion&#39;: &#39;REDACTED&#39;

&#39;Strict-Transport-Security&#39;: &#39;REDACTED&#39;
</code></pre></div>
<p>2025-04-10 11:26:39,117 - backend. Services. Cosmos_service - INFO - 容器 Relationships 已存在</p>
<p>2025-04-10 11:26:39,117 - backend. Main - INFO - Cosmos DB 初始化成功</p>
<p>2025-04-10 11:26:39,122 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Request URL: '<a href="https://xiaohei.search.windows.net/indexes('person-relationships">https://xiaohei.search.windows.net/indexes('person-relationships</a>')? Api-version=REDACTED'</p>
<p>Request method: 'PUT'</p>
<p>Request headers:</p>
<div class="language-text highlight"><pre><span></span><code>&#39;Content-Type&#39;: &#39;application/json&#39;

&#39;Content-Length&#39;: &#39;6896&#39;

&#39;api-key&#39;: &#39;REDACTED&#39;

&#39;Prefer&#39;: &#39;REDACTED&#39;

&#39;Accept&#39;: &#39;application/json; odata. Metadata=minimal&#39;

&#39;x-ms-client-request-id&#39;: &#39;9 d 561 ceb-15 bb-11 f 0-b 80 f-a 8 e 2910 a 400 d&#39;

&#39;User-Agent&#39;: &#39;azsdk-python-search-documents/11.4.0 Python/3.10.16 (Windows-10-10.0.26100-SP 0)&#39;
</code></pre></div>
<p>A body is sent with the request</p>
<p>2025-04-10 11:26:40,020 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Response status: 200</p>
<p>Response headers:</p>
<div class="language-text highlight"><pre><span></span><code>&#39;Transfer-Encoding&#39;: &#39;chunked&#39;

&#39;Content-Type&#39;: &#39;application/json; odata. Metadata=minimal; odata. Streaming=true; charset=utf-8&#39;      
&#39;Content-Encoding&#39;: &#39;REDACTED&#39;

&#39;Vary&#39;: &#39;REDACTED&#39;

&#39;Server&#39;: &#39;Microsoft-IIS/10.0&#39;

&#39;Strict-Transport-Security&#39;: &#39;REDACTED&#39;

&#39;Preference-Applied&#39;: &#39;REDACTED&#39;

&#39;OData-Version&#39;: &#39;REDACTED&#39;

&#39;request-id&#39;: &#39;9 d 561 ceb-15 bb-11 f 0-b 80 f-a 8 e 2910 a 400 d&#39;

&#39;elapsed-time&#39;: &#39;REDACTED&#39;

&#39;Date&#39;: &#39;Thu, 10 Apr 2025 03:26:41 GMT&#39;
</code></pre></div>
<p>2025-04-10 11:26:40,022 - backend. Services. Ai_search_service - INFO - 索引 person-relationships 创建或更新成功</p>
<p>2025-04-10 11:26:40,023 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Request URL: '<a href="https://xiaohei.search.windows.net/datasources('person-relationships-datasource">https://xiaohei.search.windows.net/datasources('person-relationships-datasource</a>')? Api-version=REDACTED'</p>
<p>Request method: 'PUT'</p>
<p>Request headers:</p>
<div class="language-text highlight"><pre><span></span><code>&#39;Content-Type&#39;: &#39;application/json&#39;

&#39;Content-Length&#39;: &#39;317&#39;

&#39;api-key&#39;: &#39;REDACTED&#39;

&#39;Prefer&#39;: &#39;REDACTED&#39;

&#39;Accept&#39;: &#39;application/json; odata. Metadata=minimal&#39;

&#39;x-ms-client-request-id&#39;: &#39;9 ddfbffb-15 bb-11 f 0-bbe 9-a 8 e 2910 a 400 d&#39;

&#39;User-Agent&#39;: &#39;azsdk-python-search-documents/11.4.0 Python/3.10.16 (Windows-10-10.0.26100-SP 0)&#39;
</code></pre></div>
<p>A body is sent with the request</p>
<p>2025-04-10 11:26:41,088 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Response status: 200</p>
<p>Response headers:</p>
<div class="language-text highlight"><pre><span></span><code>&#39;Transfer-Encoding&#39;: &#39;chunked&#39;

&#39;Content-Type&#39;: &#39;application/json; odata. Metadata=minimal; odata. Streaming=true; charset=utf-8&#39;      
&#39;Content-Encoding&#39;: &#39;REDACTED&#39;

&#39;ETag&#39;: &#39;&quot;0 x 8 DD 77 DF 839 FCCAD&quot;&#39;

&#39;Vary&#39;: &#39;REDACTED&#39;

&#39;Server&#39;: &#39;Microsoft-IIS/10.0&#39;

&#39;Strict-Transport-Security&#39;: &#39;REDACTED&#39;

&#39;Preference-Applied&#39;: &#39;REDACTED&#39;

&#39;OData-Version&#39;: &#39;REDACTED&#39;

&#39;request-id&#39;: &#39;9 ddfbffb-15 bb-11 f 0-bbe 9-a 8 e 2910 a 400 d&#39;

&#39;elapsed-time&#39;: &#39;REDACTED&#39;

&#39;Date&#39;: &#39;Thu, 10 Apr 2025 03:26:42 GMT&#39;
</code></pre></div>
<p>2025-04-10 11:26:41,089 - backend. Services. Ai_search_service - INFO - 数据源连接 person-relationships-datasource 创建或更新成功</p>
<p>2025-04-10 11:26:41,090 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Request URL: '<a href="https://xiaohei.search.windows.net/skillsets('relationship-mining-skillset">https://xiaohei.search.windows.net/skillsets('relationship-mining-skillset</a>')? Api-version=REDACTED'</p>
<p>Request method: 'PUT'</p>
<p>Request headers:</p>
<div class="language-text highlight"><pre><span></span><code>&#39;Content-Type&#39;: &#39;application/json&#39;

&#39;Content-Length&#39;: &#39;1947&#39;

&#39;api-key&#39;: &#39;REDACTED&#39;

&#39;Prefer&#39;: &#39;REDACTED&#39;

&#39;Accept&#39;: &#39;application/json; odata. Metadata=minimal&#39;

&#39;x-ms-client-request-id&#39;: &#39;9 e 828 b 94-15 bb-11 f 0-bdd 5-a 8 e 2910 a 400 d&#39;

&#39;User-Agent&#39;: &#39;azsdk-python-search-documents/11.4.0 Python/3.10.16 (Windows-10-10.0.26100-SP 0)&#39;
</code></pre></div>
<p>A body is sent with the request</p>
<p>2025-04-10 11:26:41,397 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Response status: 200</p>
<p>Response headers:</p>
<div class="language-text highlight"><pre><span></span><code>&#39;Transfer-Encoding&#39;: &#39;chunked&#39;

&#39;Content-Type&#39;: &#39;application/json; odata. Metadata=minimal; odata. Streaming=true; charset=utf-8&#39;      
&#39;Content-Encoding&#39;: &#39;REDACTED&#39;

&#39;ETag&#39;: &#39;&quot;0 x 8 DD 77 DF 83 CBB 46 B&quot;&#39;

&#39;Vary&#39;: &#39;REDACTED&#39;

&#39;Server&#39;: &#39;Microsoft-IIS/10.0&#39;

&#39;Strict-Transport-Security&#39;: &#39;REDACTED&#39;

&#39;Preference-Applied&#39;: &#39;REDACTED&#39;

&#39;OData-Version&#39;: &#39;REDACTED&#39;

&#39;request-id&#39;: &#39;9 e 828 b 94-15 bb-11 f 0-bdd 5-a 8 e 2910 a 400 d&#39;

&#39;elapsed-time&#39;: &#39;REDACTED&#39;

&#39;Date&#39;: &#39;Thu, 10 Apr 2025 03:26:42 GMT&#39;
</code></pre></div>
<p>2025-04-10 11:26:41,399 - backend. Services. Ai_search_service - INFO - 技能组 relationship-mining-skillset 创建或更新成功</p>
<p>2025-04-10 11:26:41,402 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Request URL: '<a href="https://xiaohei.search.windows.net/indexers('person-relationships-indexer">https://xiaohei.search.windows.net/indexers('person-relationships-indexer</a>')? Api-version=REDACTED'</p>
<p>Request method: 'PUT'</p>
<p>Request headers:</p>
<div class="language-text highlight"><pre><span></span><code>&#39;Content-Type&#39;: &#39;application/json&#39;

&#39;Content-Length&#39;: &#39;2952&#39;

&#39;api-key&#39;: &#39;REDACTED&#39;

&#39;Prefer&#39;: &#39;REDACTED&#39;

&#39;Accept&#39;: &#39;application/json; odata. Metadata=minimal&#39;

&#39;x-ms-client-request-id&#39;: &#39;9 eb 21 c 7 d-15 bb-11 f 0-83 d 7-a 8 e 2910 a 400 d&#39;

&#39;User-Agent&#39;: &#39;azsdk-python-search-documents/11.4.0 Python/3.10.16 (Windows-10-10.0.26100-SP 0)&#39;
</code></pre></div>
<p>A body is sent with the request</p>
<p>2025-04-10 11:26:42,847 - azure. Core. Pipeline. Policies. Http_logging_policy - INFO - Response status: 200</p>
<p>Response headers:</p>
<div class="language-text highlight"><pre><span></span><code>&#39;Transfer-Encoding&#39;: &#39;chunked&#39;

&#39;Content-Type&#39;: &#39;application/json; odata. Metadata=minimal; odata. Streaming=true; charset=utf-8&#39;      
&#39;Content-Encoding&#39;: &#39;REDACTED&#39;

&#39;ETag&#39;: &#39;&quot;0 x 8 DD 77 DF 84 AAE 0 B 7&quot;&#39;

&#39;Vary&#39;: &#39;REDACTED&#39;

&#39;Server&#39;: &#39;Microsoft-IIS/10.0&#39;

&#39;Strict-Transport-Security&#39;: &#39;REDACTED&#39;

&#39;Preference-Applied&#39;: &#39;REDACTED&#39;

&#39;OData-Version&#39;: &#39;REDACTED&#39;

&#39;request-id&#39;: &#39;9 eb 21 c 7 d-15 bb-11 f 0-83 d 7-a 8 e 2910 a 400 d&#39;

&#39;elapsed-time&#39;: &#39;REDACTED&#39;

&#39;Date&#39;: &#39;Thu, 10 Apr 2025 03:26:44 GMT&#39;
</code></pre></div>
<p>2025-04-10 11:26:42,849 - backend. Services. Ai_search_service - INFO - 索引器 person-relationships-indexer 创建或更新成功</p>
<p>2025-04-10 11:26:42,849 - backend. Main - INFO - AI Search 初始化成功</p>
<p>INFO: Application startup complete.</p>
<p>GitHub Copilot: 根据描述，使用 <code>launch.json</code> 调试时出现 <code>ERROR: Application startup failed. Exiting.</code>，但直接运行 <code>python -m backend.main</code> 时程序可以正常启动。这种情况可能是由于以下原因之一导致的：</p>
<hr />
<h3 id="1_3">1. <strong>环境变量或配置问题</strong><a class="headerlink" href="#1_3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>问题</strong>：<code>launch. Json</code> 中的调试环境可能没有正确加载配置文件或环境变量，而直接运行时，环境变量可能通过其他方式（如 <code>. Env</code> 文件或系统环境变量）加载。</li>
<li><strong>解决方法</strong>：</li>
<li>
<p>确保 <code>launch. Json</code> 中的调试配置加载了正确的环境变量。
     在 <code>launch. Json</code> 中添加 <code>envFile</code> 指定 <code>. Env</code> 文件路径：</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="p">{</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.2.0&quot;</span><span class="p">,</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span><span class="nt">&quot;configurations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Python: FastAPI&quot;</span><span class="p">,</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">            </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;launch&quot;</span><span class="p">,</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">            </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uvicorn&quot;</span><span class="p">,</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">            </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">                </span><span class="s2">&quot;backend. Main: app&quot;</span><span class="p">,</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="w">                </span><span class="s2">&quot;--host&quot;</span><span class="p">,</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="w">                </span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="w">                </span><span class="s2">&quot;--port&quot;</span><span class="p">,</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="w">                </span><span class="s2">&quot;8000&quot;</span><span class="p">,</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">                </span><span class="s2">&quot;--reload&quot;</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="w">            </span><span class="p">],</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">            </span><span class="nt">&quot;jinja&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="w">            </span><span class="nt">&quot;envFile&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${workspaceFolder}/. Env&quot;</span>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="w">    </span><span class="p">]</span>
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>如果没有 <code>. Env</code> 文件，确保系统环境变量中包含 <code>COSMOS_ENDPOINT</code>、<code>COSMOS_KEY</code> 等配置。</p>
</li>
</ul>
<hr />
<h3 id="2_2">2. <strong>路径问题</strong><a class="headerlink" href="#2_2" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>问题</strong>：<code>launch. Json</code> 中的工作目录可能与直接运行时不同，导致模块导入失败或文件路径错误。</li>
<li><strong>解决方法</strong>：</li>
<li>
<p>在 <code>launch. Json</code> 中添加 <code>cwd</code>（当前工作目录）字段，确保工作目录正确：</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="p">{</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="nt">&quot;cwd&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${workspaceFolder}/backend&quot;</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>确保 backend 目录下的模块可以通过相对导入正常加载。</p>
</li>
</ul>
<hr />
<h3 id="3_3">3. <strong>依赖版本问题</strong><a class="headerlink" href="#3_3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>问题</strong>：调试模式下可能使用了不同的 Python 解释器或虚拟环境，导致依赖版本不一致。</li>
<li><strong>解决方法</strong>：</li>
<li>
<p>确保 <code>launch. Json</code> 中指定了正确的 Python 解释器：</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="p">{</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">    </span><span class="nt">&quot;python&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${workspaceFolder}/. Venv/bin/python&quot;</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="p">}</span>
</span></code></pre></div>
</li>
<li>
<p>在终端中运行以下命令，检查依赖是否一致：</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>Pip<span class="w"> </span>freeze<span class="w"> </span>&gt;<span class="w"> </span>requirements.<span class="w"> </span>Txt
</span></code></pre></div>
<p>然后在调试环境中重新安装依赖：</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>Pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.<span class="w"> </span>Txt
</span></code></pre></div>
</li>
</ul>
<hr />
<h3 id="4_1">4. <strong>日志级别问题</strong><a class="headerlink" href="#4_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>问题</strong>：调试模式下可能抛出异常，但未记录到日志中。</li>
<li><strong>解决方法</strong>：</li>
<li>
<p>将日志级别设置为 <code>DEBUG</code>，以捕获更多信息：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">Logging</span><span class="o">.</span><span class="n">BasicConfig</span> <span class="p">(</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>    <span class="n">Level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span> <span class="n">DEBUG</span><span class="p">,</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>    <span class="n">Format</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%(asctime) s</span><span class="s2"> - </span><span class="si">%(name) s</span><span class="s2"> - </span><span class="si">%(levelname) s</span><span class="s2"> - </span><span class="si">%(message) s</span><span class="s2">&quot;</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="p">)</span>
</span></code></pre></div>
</li>
<li>
<p>在 <code>launch. Json</code> 中添加 <code>logLevel</code>：</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="p">{</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">    </span><span class="nt">&quot;logLevel&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DEBUG&quot;</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="p">}</span>
</span></code></pre></div>
</li>
</ul>
<hr />
<h3 id="5_2">5. <strong>检查异常堆栈</strong><a class="headerlink" href="#5_2" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>问题</strong>：调试模式下可能有未捕获的异常导致程序退出。</li>
<li><strong>解决方法</strong>：</li>
<li>
<p>在 <code>main. Py</code> 的 <code>startup_event</code> 方法中添加异常捕获：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nd">@app</span><span class="o">.</span> <span class="n">On_event</span> <span class="p">(</span><span class="s2">&quot;startup&quot;</span><span class="p">)</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="n">Async</span> <span class="k">def</span><span class="w"> </span><span class="nf">startup_event</span> <span class="p">():</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>    <span class="n">Try</span><span class="p">:</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>        <span class="n">Cosmos_service</span> <span class="o">=</span> <span class="n">get_cosmos_service</span> <span class="p">()</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>        <span class="n">If</span> <span class="n">cosmos_service</span><span class="o">.</span> <span class="n">Initialize_database</span> <span class="p">():</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>            <span class="n">Logger</span><span class="o">.</span><span class="n">Info</span> <span class="p">(</span><span class="s2">&quot;Cosmos DB 初始化成功&quot;</span><span class="p">)</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>        <span class="n">Else</span><span class="p">:</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>            <span class="n">Logger</span><span class="o">.</span><span class="n">Error</span> <span class="p">(</span><span class="s2">&quot;Cosmos DB 初始化失败&quot;</span><span class="p">)</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>        <span class="n">Search_service</span> <span class="o">=</span> <span class="n">get_search_service</span> <span class="p">()</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>        <span class="n">If</span> <span class="n">search_service</span><span class="o">.</span> <span class="n">Initialize_search_service</span> <span class="p">():</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>            <span class="n">Logger</span><span class="o">.</span><span class="n">Info</span> <span class="p">(</span><span class="s2">&quot;AI Search 初始化成功&quot;</span><span class="p">)</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>        <span class="n">Else</span><span class="p">:</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a>            <span class="n">Logger</span><span class="o">.</span><span class="n">Error</span> <span class="p">(</span><span class="s2">&quot;AI Search 初始化失败&quot;</span><span class="p">)</span>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>    <span class="n">Except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a>        <span class="n">Logger</span><span class="o">.</span><span class="n">Error</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;启动事件失败: </span><span class="si">{</span><span class="nb">str</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a>        <span class="n">Raise</span>
</span></code></pre></div>
</li>
<li>
<p>运行调试模式，查看具体的异常堆栈信息。</p>
</li>
</ul>
<hr />
<h3 id="6_1">6. <strong>验证调试模式下的依赖</strong><a class="headerlink" href="#6_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>问题</strong>：调试模式下可能未正确加载 Azure SDK 或其他依赖。</li>
<li><strong>解决方法</strong>：</li>
<li>
<p>在调试模式下运行以下代码，验证依赖是否正确加载：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">From</span> <span class="n">azure</span><span class="o">.</span> <span class="n">Cosmos</span> <span class="kn">import</span><span class="w"> </span><span class="nn">CosmosClient</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="n">Print</span> <span class="p">(</span><span class="s2">&quot;Azure SDK 加载成功&quot;</span><span class="p">)</span>
</span></code></pre></div>
</li>
<li>
<p>如果失败，检查虚拟环境是否正确激活。</p>
</li>
</ul>
<hr />
<h3 id="7-uvicorn">7. <strong>尝试直接运行 Uvicorn</strong><a class="headerlink" href="#7-uvicorn" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>问题</strong>：<code>launch. Json</code> 的配置可能存在问题。</li>
<li><strong>解决方法</strong>：</li>
<li>
<p>在终端中直接运行 Uvicorn：</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>Uvicorn<span class="w"> </span>backend.<span class="w"> </span>Main:<span class="w"> </span>app<span class="w"> </span>--host<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span>--port<span class="w"> </span><span class="m">8000</span><span class="w"> </span>--reload
</span></code></pre></div>
</li>
<li>
<p>如果可以正常运行，则说明问题出在 <code>launch. Json</code> 配置。</p>
</li>
</ul>
<hr />
<p>通过以上步骤，您应该能够定位并解决调试模式下的问题。如果问题仍然存在，请提供调试模式下的完整错误日志，我可以进一步协助分析。</p>
<p>找到具有 1 个许可证类型的类似代码</p>
<p>OliverZ 11 x: (AIsearch) c:\Users\zhaoshiyi\Documents\GitHub\Enhancing-Character-Mining-System-Based-on-Artificial-Intelligence&gt; c: &amp;&amp; cd c:\Users\zhaoshiyi\Documents\GitHub\Enhancing-Character-Mining-System-Based-on-Artificial-Intelligence &amp;&amp; cmd /C "D:\Anaconda\envs\AIsearch\python. Exe c:\Users\zhaoshiyi. Vscode\extensions\ms-python. Debugpy-2025.6.0-win 32-x 64\bundled\libs\debugpy\launcher 51409 -- -m uvicorn backend. Main: app --host 0.0.0.0 --port 8000 --reload "</p>
<p>INFO: Will watch for changes in these directories: ['c:\Users\zhaoshiyi\Documents\GitHub\Enhancing-Character-Mining-System-Based-on-Artificial-Intelligence']</p>
<p>INFO: Uvicorn running on <a href="http://0.0.0.0:8000">http://0.0.0.0:8000</a> (Press CTRL+C to quit)</p>
<p>INFO: Started reloader process [29136] using StatReload</p>
<p>D:\Anaconda\envs\AIsearch\lib\site-packages\pydantic_internal_config. Py:373: UserWarning: Valid config keys have changed in V 2:</p>
<ul>
<li>'schema_extra' has been renamed to 'json_schema_extra'
  Warnings.Warn (message, UserWarning)
INFO: Started server process [24436]
INFO: Waiting for application startup.
ERROR: Traceback (most recent call last):
  File "D:\Anaconda\envs\AIsearch\lib\site-packages\starlette\routing. Py", line 677, in lifespan
    Async with self. Lifespan_context (app) as maybe_state:
  File "D:\Anaconda\envs\AIsearch\lib\site-packages\starlette\routing. Py", line 566, in <strong>aenter</strong>
    Await self.<em>router.Startup ()
  File "D:\Anaconda\envs\AIsearch\lib\site-packages\starlette\routing. Py", line 654, in startup
    Await handler ()
  File "c:\Users\zhaoshiyi\Documents\GitHub\Enhancing-Character-Mining-System-Based-on-Artificial-Intelligence\backend\main. Py", line 48, in startup_event
    Cosmos_service = get_cosmos_service ()
  File "c:\Users\zhaoshiyi\Documents\GitHub\Enhancing-Character-Mining-System-Based-on-Artificial-Intelligence\backend\main. Py", line 39, in get_cosmos_service
    Return CosmosDBService ()
  File "c:\Users\zhaoshiyi\Documents\GitHub\Enhancing-Character-Mining-System-Based-on-Artificial-Intelligence\backend\services\cosmos_service. Py", line 16, in __init_</em>
    Self. Client = CosmosClient (COSMOS_ENDPOINT, credential=COSMOS_KEY)
  File "D:\Anaconda\envs\AIsearch\lib\site-packages\azure\cosmos\cosmos_client. Py", line 188, in <strong>init</strong>
    Auth = _build_auth (credential)
  File "D:\Anaconda\envs\AIsearch\lib\site-packages\azure\cosmos\cosmos_client. Py", line 67, in _build_auth
    Raise TypeError (
TypeError: Unrecognized credential type. Please supply the master key as a string or a dictionary, or resource tokens, or a list of permissions, or any instance of a class implementing TokenCredential (see azure. Identity module for specific implementations such as ClientSecretCredential).</li>
</ul>
<p>ERROR: Application startup failed. Exiting.</p>
<p>GitHub Copilot: 从错误日志来看，问题出在 <code>CosmosClient</code> 的初始化过程中，具体是 <code>COSMOS_KEY</code> 的类型不被识别。错误信息如下：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="ne">TypeError</span><span class="p">:</span> <span class="n">Unrecognized</span> <span class="n">credential</span> <span class="nb">type</span><span class="o">.</span> <span class="n">Please</span> <span class="n">supply</span> <span class="n">the</span> <span class="n">master</span> <span class="n">key</span> <span class="k">as</span> <span class="n">a</span> <span class="n">string</span> <span class="ow">or</span> <span class="n">a</span> <span class="n">dictionary</span><span class="p">,</span> <span class="ow">or</span> <span class="n">resource</span> <span class="n">tokens</span><span class="p">,</span> <span class="ow">or</span> <span class="n">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">permissions</span><span class="p">,</span> <span class="ow">or</span> <span class="nb">any</span> <span class="n">instance</span> <span class="n">of</span> <span class="n">a</span> <span class="k">class</span><span class="w"> </span><span class="nc">implementing</span> <span class="n">TokenCredential</span> <span class="p">(</span><span class="n">see</span> <span class="n">azure</span><span class="o">.</span> <span class="n">Identity</span> <span class="n">module</span> <span class="k">for</span> <span class="n">specific</span> <span class="n">implementations</span> <span class="n">such</span> <span class="k">as</span> <span class="n">ClientSecretCredential</span><span class="p">)</span><span class="o">.</span>
</span></code></pre></div>
<p>这表明 <code>COSMOS_KEY</code> 的值可能不是一个有效的字符串或凭据类型。</p>
<hr />
<h3 id="_4">解决方法<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<h4 id="1-cosmos_key">1. <strong>检查 <code>COSMOS_KEY</code> 的值</strong><a class="headerlink" href="#1-cosmos_key" title="Permanent link">&para;</a></h4>
<ul>
<li>确保 <code>COSMOS_KEY</code> 是一个有效的字符串（主密钥或资源令牌）。</li>
<li>如果使用 <code>. Env</code> 文件加载环境变量，请确保 <code>. Env</code> 文件中正确设置了 <code>COSMOS_KEY</code>，例如：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="n">COSMOS_KEY</span><span class="o">=</span><span class="n">your_cosmos_db_primary_key</span>
</span></code></pre></div>
<ul>
<li>如果使用系统环境变量，请运行以下命令检查：</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>Echo<span class="w"> </span>%COSMOS_KEY%
</span></code></pre></div>
<h4 id="2_3">2. <strong>验证配置文件加载</strong><a class="headerlink" href="#2_3" title="Permanent link">&para;</a></h4>
<ul>
<li>确保 <code>COSMOS_KEY</code> 是通过 settings. Py 正确加载的。</li>
<li>在 <code>settings. Py</code> 中打印 <code>COSMOS_KEY</code> 的值以验证：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">Print</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;COSMOS_KEY: </span><span class="si">{</span><span class="n">COSMOS_KEY</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<ul>
<li>如果值为空或不正确，请检查配置文件或环境变量的加载逻辑。</li>
</ul>
<h4 id="3-cosmosclient">3. <strong>更新 <code>CosmosClient</code> 初始化</strong><a class="headerlink" href="#3-cosmosclient" title="Permanent link">&para;</a></h4>
<p>根据错误提示，<code>CosmosClient</code> 支持以下几种凭据类型：</p>
<ul>
<li>主密钥（字符串）</li>
<li>资源令牌</li>
<li>权限列表</li>
<li>实现 <code>TokenCredential</code> 的类（如 <code>azure. Identity. ClientSecretCredential</code>）</li>
</ul>
<p>如果您使用的是主密钥，请确保初始化如下：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="n">Self</span><span class="o">.</span> <span class="n">Client</span> <span class="o">=</span> <span class="n">CosmosClient</span> <span class="p">(</span><span class="n">COSMOS_ENDPOINT</span><span class="p">,</span> <span class="n">credential</span><span class="o">=</span><span class="n">COSMOS_KEY</span><span class="p">)</span>
</span></code></pre></div>
<p>如果您使用的是 Azure AD 的凭据（如 <code>ClientSecretCredential</code>），请改为：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="n">From</span> <span class="n">azure</span><span class="o">.</span> <span class="n">Identity</span> <span class="kn">import</span><span class="w"> </span><span class="nn">ClientSecretCredential</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="n">Credential</span> <span class="o">=</span> <span class="n">ClientSecretCredential</span> <span class="p">(</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>    <span class="n">Tenant_id</span><span class="o">=</span><span class="s2">&quot;your_tenant_id&quot;</span><span class="p">,</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>    <span class="n">Client_id</span><span class="o">=</span><span class="s2">&quot;your_client_id&quot;</span><span class="p">,</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>    <span class="n">Client_secret</span><span class="o">=</span><span class="s2">&quot;your_client_secret&quot;</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="p">)</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="n">Self</span><span class="o">.</span> <span class="n">Client</span> <span class="o">=</span> <span class="n">CosmosClient</span> <span class="p">(</span><span class="n">COSMOS_ENDPOINT</span><span class="p">,</span> <span class="n">credential</span><span class="o">=</span><span class="n">credential</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="4_2">4. <strong>调试环境变量加载</strong><a class="headerlink" href="#4_2" title="Permanent link">&para;</a></h4>
<p>在 <code>CosmosDBService.__init__</code> 方法中打印 <code>COSMOS_ENDPOINT</code> 和 <code>COSMOS_KEY</code> 的值：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="n">Print</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;COSMOS_ENDPOINT: </span><span class="si">{</span><span class="n">COSMOS_ENDPOINT</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="n">Print</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;COSMOS_KEY: </span><span class="si">{</span><span class="n">COSMOS_KEY</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>运行调试模式，检查是否正确加载了这些值。</p>
<hr />
<h3 id="env">调试模式下的 <code>. Env</code> 文件支持<a class="headerlink" href="#env" title="Permanent link">&para;</a></h3>
<p>如果您使用 <code>. Env</code> 文件加载环境变量，请确保在 <code>launch. Json</code> 中添加 <code>envFile</code>：</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="p">{</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.2.0&quot;</span><span class="p">,</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">    </span><span class="nt">&quot;configurations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Python: FastAPI&quot;</span><span class="p">,</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="w">            </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;launch&quot;</span><span class="p">,</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="w">            </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uvicorn&quot;</span><span class="p">,</span>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="w">            </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="w">                </span><span class="s2">&quot;backend. Main: app&quot;</span><span class="p">,</span>
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="w">                </span><span class="s2">&quot;--host&quot;</span><span class="p">,</span>
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="w">                </span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span>
</span><span id="__span-26-13"><a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="w">                </span><span class="s2">&quot;--port&quot;</span><span class="p">,</span>
</span><span id="__span-26-14"><a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a><span class="w">                </span><span class="s2">&quot;8000&quot;</span><span class="p">,</span>
</span><span id="__span-26-15"><a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="w">                </span><span class="s2">&quot;--reload&quot;</span>
</span><span id="__span-26-16"><a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="w">            </span><span class="p">],</span>
</span><span id="__span-26-17"><a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a><span class="w">            </span><span class="nt">&quot;jinja&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-26-18"><a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a><span class="w">            </span><span class="nt">&quot;envFile&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${workspaceFolder}/. Env&quot;</span>
</span><span id="__span-26-19"><a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-26-20"><a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a><span class="w">    </span><span class="p">]</span>
</span><span id="__span-26-21"><a id="__codelineno-26-21" name="__codelineno-26-21" href="#__codelineno-26-21"></a><span class="p">}</span>
</span></code></pre></div>
<hr />
<h3 id="_5">验证修复<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<ol>
<li>确保 <code>COSMOS_KEY</code> 是有效的主密钥或凭据。</li>
<li>确保调试模式下正确加载了环境变量。</li>
<li>重新运行调试模式，检查是否仍然出现 <code>TypeError</code>。</li>
</ol>
<p>如果问题仍未解决，请提供 <code>COSMOS_KEY</code> 的加载方式和相关配置文件内容，我可以进一步协助分析。</p>
<p>找到具有 1 个许可证类型的类似代码</p>
<p>OliverZ 11 x: C:\Users\zhaoshiyi\Documents\GitHub\Enhancing-Character-Mining-System-Based-on-Artificial-Intelligence\backend. Env</p>
<p>GitHub Copilot: 如果您使用 <code>. Env</code> 文件来存储环境变量，请确保 <code>. Env</code> 文件的内容正确配置，并且调试模式能够正确加载它。</p>
<hr />
<h3 id="1-env">1. <strong>检查 <code>. Env</code> 文件内容</strong><a class="headerlink" href="#1-env" title="Permanent link">&para;</a></h3>
<p>在 .env 文件中，确保以下内容正确配置：</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>COSMOS_ENDPOINT=https://your-cosmos-db-account.documents.azure.com:443/
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>COSMOS_KEY=your_cosmos_db_primary_key
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>COSMOS_DATABASE=your_database_name
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>COSMOS_ENTITIES_CONTAINER=Entities
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>COSMOS_RELATIONSHIPS_CONTAINER=Relationships
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>AZURE_SEARCH_ENDPOINT=https://your-search-service.search.windows.net
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a>AZURE_SEARCH_KEY=your_search_service_key
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>AZURE_SEARCH_INDEX_NAME=person-relationships
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a>AZURE_SEARCH_SKILLSET_NAME=relationship-mining-skillset
</span></code></pre></div>
<ul>
<li><strong><code>COSMOS_ENDPOINT</code></strong>：您的 Cosmos DB 账户的 URL。</li>
<li><strong><code>COSMOS_KEY</code></strong>：您的 Cosmos DB 主密钥。</li>
<li><strong><code>COSMOS_DATABASE</code></strong>：数据库名称。</li>
<li><strong><code>COSMOS_ENTITIES_CONTAINER</code> 和 <code>COSMOS_RELATIONSHIPS_CONTAINER</code></strong>：容器名称。</li>
<li><strong><code>AZURE_SEARCH_*</code></strong>：Azure Cognitive Search 的相关配置。</li>
</ul>
<hr />
<h3 id="2-env">2. <strong>确保 <code>. Env</code> 文件被加载</strong><a class="headerlink" href="#2-env" title="Permanent link">&para;</a></h3>
<p>在 settings. Py 中，确保使用 <code>python-dotenv</code> 加载 <code>. Env</code> 文件：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="n">From</span> <span class="n">dotenv</span> <span class="kn">import</span><span class="w"> </span><span class="nn">load_dotenv</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="n">Import</span> <span class="n">os</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="c1"># 加载 .env 文件</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="n">Load_dotenv</span> <span class="p">()</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="c1"># Cosmos DB 配置</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="n">COSMOS_ENDPOINT</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">Getenv</span> <span class="p">(</span><span class="s2">&quot;COSMOS_ENDPOINT&quot;</span><span class="p">)</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="n">COSMOS_KEY</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">Getenv</span> <span class="p">(</span><span class="s2">&quot;COSMOS_KEY&quot;</span><span class="p">)</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="n">COSMOS_DATABASE</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">Getenv</span> <span class="p">(</span><span class="s2">&quot;COSMOS_DATABASE&quot;</span><span class="p">)</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="n">COSMOS_ENTITIES_CONTAINER</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">Getenv</span> <span class="p">(</span><span class="s2">&quot;COSMOS_ENTITIES_CONTAINER&quot;</span><span class="p">)</span>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="n">COSMOS_RELATIONSHIPS_CONTAINER</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">Getenv</span> <span class="p">(</span><span class="s2">&quot;COSMOS_RELATIONSHIPS_CONTAINER&quot;</span><span class="p">)</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a>
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="c1"># Azure Search 配置</span>
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="n">AZURE_SEARCH_ENDPOINT</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">Getenv</span> <span class="p">(</span><span class="s2">&quot;AZURE_SEARCH_ENDPOINT&quot;</span><span class="p">)</span>
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="n">AZURE_SEARCH_KEY</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">Getenv</span> <span class="p">(</span><span class="s2">&quot;AZURE_SEARCH_KEY&quot;</span><span class="p">)</span>
</span><span id="__span-28-17"><a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="n">AZURE_SEARCH_INDEX_NAME</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">Getenv</span> <span class="p">(</span><span class="s2">&quot;AZURE_SEARCH_INDEX_NAME&quot;</span><span class="p">)</span>
</span><span id="__span-28-18"><a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="n">AZURE_SEARCH_SKILLSET_NAME</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">Getenv</span> <span class="p">(</span><span class="s2">&quot;AZURE_SEARCH_SKILLSET_NAME&quot;</span><span class="p">)</span>
</span></code></pre></div>
<hr />
<h3 id="3-env">3. <strong>在调试模式中加载 <code>. Env</code> 文件</strong><a class="headerlink" href="#3-env" title="Permanent link">&para;</a></h3>
<p>在 <code>launch. Json</code> 中，添加 <code>envFile</code> 字段以指定 <code>. Env</code> 文件路径：</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="p">{</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.2.0&quot;</span><span class="p">,</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="w">    </span><span class="nt">&quot;configurations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Python: FastAPI&quot;</span><span class="p">,</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="w">            </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;launch&quot;</span><span class="p">,</span>
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="w">            </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uvicorn&quot;</span><span class="p">,</span>
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="w">            </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="w">                </span><span class="s2">&quot;backend. Main: app&quot;</span><span class="p">,</span>
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="w">                </span><span class="s2">&quot;--host&quot;</span><span class="p">,</span>
</span><span id="__span-29-12"><a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="w">                </span><span class="s2">&quot;0.0.0.0&quot;</span><span class="p">,</span>
</span><span id="__span-29-13"><a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a><span class="w">                </span><span class="s2">&quot;--port&quot;</span><span class="p">,</span>
</span><span id="__span-29-14"><a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a><span class="w">                </span><span class="s2">&quot;8000&quot;</span><span class="p">,</span>
</span><span id="__span-29-15"><a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a><span class="w">                </span><span class="s2">&quot;--reload&quot;</span>
</span><span id="__span-29-16"><a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a><span class="w">            </span><span class="p">],</span>
</span><span id="__span-29-17"><a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a><span class="w">            </span><span class="nt">&quot;jinja&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-29-18"><a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a><span class="w">            </span><span class="nt">&quot;envFile&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${workspaceFolder}/backend/. Env&quot;</span>
</span><span id="__span-29-19"><a id="__codelineno-29-19" name="__codelineno-29-19" href="#__codelineno-29-19"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-29-20"><a id="__codelineno-29-20" name="__codelineno-29-20" href="#__codelineno-29-20"></a><span class="w">    </span><span class="p">]</span>
</span><span id="__span-29-21"><a id="__codelineno-29-21" name="__codelineno-29-21" href="#__codelineno-29-21"></a><span class="p">}</span>
</span></code></pre></div>
<hr />
<h3 id="4_3">4. <strong>验证环境变量加载</strong><a class="headerlink" href="#4_3" title="Permanent link">&para;</a></h3>
<p>在 <code>CosmosDBService.__init__</code> 方法中打印环境变量值，确保它们被正确加载：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="n">Print</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;COSMOS_ENDPOINT: </span><span class="si">{</span><span class="n">COSMOS_ENDPOINT</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="n">Print</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;COSMOS_KEY: </span><span class="si">{</span><span class="n">COSMOS_KEY</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="n">Print</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;COSMOS_DATABASE: </span><span class="si">{</span><span class="n">COSMOS_DATABASE</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="n">Print</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;COSMOS_ENTITIES_CONTAINER: </span><span class="si">{</span><span class="n">COSMOS_ENTITIES_CONTAINER</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="n">Print</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;COSMOS_RELATIONSHIPS_CONTAINER: </span><span class="si">{</span><span class="n">COSMOS_RELATIONSHIPS_CONTAINER</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>运行调试模式，检查这些值是否正确。如果值为空或不正确，请检查 <code>. Env</code> 文件路径和内容。</p>
<hr />
<h3 id="5_3">5. <strong>重新运行调试</strong><a class="headerlink" href="#5_3" title="Permanent link">&para;</a></h3>
<p>完成上述步骤后，重新运行调试模式。如果问题仍然存在，请提供 <code>. Env</code> 文件的内容（敏感信息可以用占位符替代）和调试日志，我可以进一步协助分析。</p>
<p>找到具有 1 个许可证类型的类似代码</p>
<p>OliverZ 11 x: 我要通过 postman 调试 file_routes 程序</p>
<p>GitHub Copilot: 要通过 Postman 调试 file_routes. Py 中的文件上传和处理功能，可以按照以下步骤操作：</p>
<hr />
<h3 id="1_4">1. <strong>启动后端服务</strong><a class="headerlink" href="#1_4" title="Permanent link">&para;</a></h3>
<p>确保后端服务已经启动，并监听默认端口 <code>8000</code>。如果使用的是 FastAPI，默认情况下可以通过以下命令启动：</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>Uvicorn<span class="w"> </span>backend.<span class="w"> </span>Main:<span class="w"> </span>app<span class="w"> </span>--host<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span>--port<span class="w"> </span><span class="m">8000</span><span class="w"> </span>--reload
</span></code></pre></div>
<hr />
<h3 id="2-postman">2. <strong>配置 Postman</strong><a class="headerlink" href="#2-postman" title="Permanent link">&para;</a></h3>
<h4 id="21"><strong>2.1 上传文件接口</strong><a class="headerlink" href="#21" title="Permanent link">&para;</a></h4>
<ol>
<li>打开 Postman，创建一个新的 <code>POST</code> 请求。</li>
<li>设置请求 URL：</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">files</span><span class="o">/</span><span class="n">upload</span>
</span></code></pre></div>
<ol>
<li>在 <code>Headers</code> 中添加：</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">multipart</span><span class="o">/</span><span class="n">form</span><span class="o">-</span><span class="n">data</span>
</span></code></pre></div>
<ol>
<li>在 <code>Body</code> 中选择 <code>form-data</code>，并添加以下字段：</li>
<li><strong>Key</strong>: <code>file</code>（类型选择 <code>File</code>），上传一个测试文件。</li>
<li>点击 <code>Send</code> 发送请求。</li>
</ol>
<p><strong>示例响应</strong>：</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="p">{</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="w">    </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;123 e 4567-e 89 b-12 d 3-a 456-426614174000&quot;</span><span class="p">,</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;processing&quot;</span><span class="p">,</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;文件上传成功，开始处理...&quot;</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="p">}</span>
</span></code></pre></div>
<hr />
<h4 id="22"><strong>2.2 查询文件处理状态</strong><a class="headerlink" href="#22" title="Permanent link">&para;</a></h4>
<ol>
<li>创建一个新的 <code>GET</code> 请求。</li>
<li>设置请求 URL：</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">files</span><span class="o">/</span><span class="n">status</span><span class="o">/</span><span class="p">{</span><span class="n">job_id</span><span class="p">}</span>
</span></code></pre></div>
<p>将 <code>{job_id}</code> 替换为上传文件时返回的 <code>job_id</code>。</p>
<ol>
<li>点击 <code>Send</code> 发送请求。</li>
</ol>
<p><strong>示例响应</strong>：</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="p">{</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;processing&quot;</span><span class="p">,</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="w">    </span><span class="nt">&quot;progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="w">    </span><span class="nt">&quot;file_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;example. Txt&quot;</span><span class="p">,</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="w">    </span><span class="nt">&quot;entities&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;正在使用 AI 分析文档...&quot;</span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="p">}</span>
</span></code></pre></div>
<hr />
<h4 id="23"><strong>2.3 获取处理后的实体</strong><a class="headerlink" href="#23" title="Permanent link">&para;</a></h4>
<ol>
<li>创建一个新的 <code>GET</code> 请求。</li>
<li>设置请求 URL：</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">files</span><span class="o">/</span><span class="n">entities</span><span class="o">/</span><span class="p">{</span><span class="n">job_id</span><span class="p">}</span>
</span></code></pre></div>
<p>将 <code>{job_id}</code> 替换为上传文件时返回的 <code>job_id</code>。</p>
<ol>
<li>点击 <code>Send</code> 发送请求。</li>
</ol>
<p><strong>示例响应</strong>：</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="p">{</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="w">    </span><span class="nt">&quot;entities&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="w">            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;entity 1&quot;</span><span class="p">,</span>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Person&quot;</span><span class="p">,</span>
</span><span id="__span-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="w">            </span><span class="nt">&quot;attributes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="w">                </span><span class="nt">&quot;age&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span>
</span><span id="__span-38-10"><a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="w">                </span><span class="nt">&quot;gender&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;male&quot;</span>
</span><span id="__span-38-11"><a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-38-12"><a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="w">        </span><span class="p">},</span>
</span><span id="__span-38-13"><a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-38-14"><a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="w">            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;entity 2&quot;</span><span class="p">,</span>
</span><span id="__span-38-15"><a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a><span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Acme Corp&quot;</span><span class="p">,</span>
</span><span id="__span-38-16"><a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a><span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Organization&quot;</span><span class="p">,</span>
</span><span id="__span-38-17"><a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a><span class="w">            </span><span class="nt">&quot;attributes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-38-18"><a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a><span class="w">                </span><span class="nt">&quot;industry&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Technology&quot;</span>
</span><span id="__span-38-19"><a id="__codelineno-38-19" name="__codelineno-38-19" href="#__codelineno-38-19"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-38-20"><a id="__codelineno-38-20" name="__codelineno-38-20" href="#__codelineno-38-20"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-38-21"><a id="__codelineno-38-21" name="__codelineno-38-21" href="#__codelineno-38-21"></a><span class="w">    </span><span class="p">]</span>
</span><span id="__span-38-22"><a id="__codelineno-38-22" name="__codelineno-38-22" href="#__codelineno-38-22"></a><span class="p">}</span>
</span></code></pre></div>
<hr />
<h3 id="3_4">3. <strong>调试注意事项</strong><a class="headerlink" href="#3_4" title="Permanent link">&para;</a></h3>
<h4 id="31"><strong>3.1 检查日志</strong><a class="headerlink" href="#31" title="Permanent link">&para;</a></h4>
<ul>
<li>如果请求失败，可以查看后端日志，定位问题。</li>
<li>日志中可能会记录文件处理的详细信息或错误。</li>
</ul>
<h4 id="32"><strong>3.2 常见问题</strong><a class="headerlink" href="#32" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>文件上传失败</strong>：</li>
<li>确保 <code>file</code> 字段的 Key 名称正确。</li>
<li>确保上传的文件大小在允许范围内。</li>
<li><strong>状态查询失败</strong>：</li>
<li>确保 <code>job_id</code> 是有效的，并且任务已经被正确处理。</li>
<li><strong>实体获取失败</strong>：</li>
<li>确保任务状态为 <code>completed</code>，并且实体已经被保存到数据库。</li>
</ol>
<h4 id="33"><strong>3.3 后端调试</strong><a class="headerlink" href="#33" title="Permanent link">&para;</a></h4>
<ul>
<li>在 <code>process_file_background</code> 方法中添加日志，检查文件处理的每一步是否正常：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="n">Logger</span><span class="o">.</span><span class="n">Debug</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;当前处理进度: </span><span class="si">{</span><span class="n">processing_jobs</span><span class="p">[</span><span class="n">job_id</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<hr />
<h3 id="4_4">4. <strong>扩展测试</strong><a class="headerlink" href="#4_4" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>测试不同类型的文件</strong>：上传文本文件、PDF 文件等，验证处理逻辑是否正常。</li>
<li><strong>模拟错误场景</strong>：上传无效文件或超大文件，检查错误处理是否健壮。</li>
</ul>
<p>通过 Postman 调试后，您可以验证 file_routes. Py 的功能是否符合预期。如果遇到问题，可以提供具体的错误信息，我可以进一步协助分析。</p>
<p>OliverZ 11 x: 我在 file_routes 中哪个地方打断点可以查看全部的处理流程</p>
<p>GitHub Copilot: 在 file_routes. Py 中，您可以在以下关键位置打断点，以查看文件上传和处理的完整流程：</p>
<hr />
<h3 id="1_5">1. <strong>文件上传入口</strong><a class="headerlink" href="#1_5" title="Permanent link">&para;</a></h3>
<p>在 <code>upload_file</code> 方法中打断点：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="n">Job_id</span> <span class="o">=</span> <span class="nb">str</span> <span class="p">(</span><span class="n">uuid</span><span class="o">.</span> <span class="n">Uuid</span> <span class="mi">4</span> <span class="p">())</span>  <span class="c1"># 生成唯一 job_id</span>
</span></code></pre></div>
<ul>
<li><strong>目的</strong>：查看文件上传的初始状态，包括生成的 <code>job_id</code> 和文件名。</li>
<li><strong>调试内容</strong>：</li>
<li>确认 <code>job_id</code> 是否正确生成。</li>
<li>检查 <code>file. Filename</code> 是否正确。</li>
</ul>
<hr />
<h3 id="2_4">2. <strong>初始化处理状态</strong><a class="headerlink" href="#2_4" title="Permanent link">&para;</a></h3>
<p>在 <code>processing_jobs[job_id] = {…}</code> 处打断点：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="n">Processing_jobs</span><span class="p">[</span><span class="n">job_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;processing&quot;</span><span class="p">,</span>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>    <span class="s2">&quot;progress&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a>    <span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="n">file</span><span class="o">.</span> <span class="n">Filename</span><span class="p">,</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a>    <span class="s2">&quot;entities&quot;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;文件已上传，正在处理中...&quot;</span>
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li><strong>目的</strong>：查看任务的初始状态是否正确存储到 <code>processing_jobs</code> 中。</li>
<li><strong>调试内容</strong>：</li>
<li>检查 <code>processing_jobs</code> 的内容。</li>
<li>确认任务状态是否正确初始化。</li>
</ul>
<hr />
<h3 id="3_5">3. <strong>后台任务启动</strong><a class="headerlink" href="#3_5" title="Permanent link">&para;</a></h3>
<p>在 <code>background_tasks. Add_task</code> 处打断点：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="n">Background_tasks</span><span class="o">.</span> <span class="n">Add_task</span> <span class="p">(</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>    <span class="n">Process_file_background</span><span class="p">,</span>
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>    <span class="n">Job_id</span><span class="p">,</span>
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a>    <span class="n">File</span><span class="p">,</span>
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a>    <span class="n">File_name</span><span class="p">,</span>
</span><span id="__span-42-6"><a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a>    <span class="n">File_processor</span><span class="p">,</span>
</span><span id="__span-42-7"><a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a>    <span class="n">Cosmos_service</span><span class="p">,</span>
</span><span id="__span-42-8"><a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a>    <span class="n">Openai_service</span>
</span><span id="__span-42-9"><a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a><span class="p">)</span>
</span></code></pre></div>
<ul>
<li><strong>目的</strong>：确认后台任务是否正确启动。</li>
<li><strong>调试内容</strong>：</li>
<li>检查传递给 <code>process_file_background</code> 的参数是否正确。</li>
<li>确认 <code>file_processor</code>、<code>cosmos_service</code> 和 <code>openai_service</code> 是否正确实例化。</li>
</ul>
<hr />
<h3 id="4_5">4. <strong>后台任务处理开始</strong><a class="headerlink" href="#4_5" title="Permanent link">&para;</a></h3>
<p>在 <code>process_file_background</code> 方法的开头打断点：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="n">Processing_jobs</span><span class="p">[</span><span class="n">job_id</span><span class="p">][</span><span class="s2">&quot;progress&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="n">Processing_jobs</span><span class="p">[</span><span class="n">job_id</span><span class="p">][</span><span class="s2">&quot;message&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;正在解析文件...&quot;</span>
</span></code></pre></div>
<ul>
<li><strong>目的</strong>：查看后台任务的初始状态。</li>
<li><strong>调试内容</strong>：</li>
<li>确认任务状态是否正确更新。</li>
<li>检查 <code>job_id</code> 是否正确传递。</li>
</ul>
<hr />
<h3 id="5_4">5. <strong>文件解析</strong><a class="headerlink" href="#5_4" title="Permanent link">&para;</a></h3>
<p>在调用 <code>file_processor. Process_file</code> 处打断点：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="n">Entities</span><span class="p">,</span> <span class="n">file_url</span><span class="p">,</span> <span class="n">content_type</span> <span class="o">=</span> <span class="k">await</span> <span class="n">file_processor</span><span class="o">.</span> <span class="n">Process_file</span> <span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">file_name</span><span class="p">)</span>
</span></code></pre></div>
<ul>
<li><strong>目的</strong>：查看文件解析的结果。</li>
<li><strong>调试内容</strong>：</li>
<li>检查 <code>file_processor</code> 的返回值，包括 <code>entities</code>、<code>file_url</code> 和 <code>content_type</code>。</li>
<li>确认文件是否正确保存到指定路径。</li>
</ul>
<hr />
<h3 id="6-ai">6. <strong>AI 分析文档</strong><a class="headerlink" href="#6-ai" title="Permanent link">&para;</a></h3>
<p>在调用 <code>openai_service. Analyze_entity_document</code> 处打断点：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="n">Analysis_result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">openai_service</span><span class="o">.</span> <span class="n">Analyze_entity_document</span> <span class="p">(</span><span class="n">text_content</span><span class="p">)</span>
</span></code></pre></div>
<ul>
<li><strong>目的</strong>：查看 AI 分析的结果。</li>
<li><strong>调试内容</strong>：</li>
<li>检查 <code>text_content</code> 是否正确传递。</li>
<li>查看 <code>analysis_result</code> 的内容，包括提取的实体和关系。</li>
</ul>
<hr />
<h3 id="7_1">7. <strong>保存实体到数据库</strong><a class="headerlink" href="#7_1" title="Permanent link">&para;</a></h3>
<p>在调用 <code>cosmos_service. Create_entity</code> 处打断点：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="n">Result</span> <span class="o">=</span> <span class="n">cosmos_service</span><span class="o">.</span> <span class="n">Create_entity</span> <span class="p">(</span><span class="n">entity</span><span class="p">)</span>
</span></code></pre></div>
<ul>
<li><strong>目的</strong>：确认实体是否正确保存到 Cosmos DB。</li>
<li><strong>调试内容</strong>：</li>
<li>检查 <code>entity</code> 的内容是否符合预期。</li>
<li>查看 <code>cosmos_service. Create_entity</code> 的返回值。</li>
</ul>
<hr />
<h3 id="8">8. <strong>处理完成</strong><a class="headerlink" href="#8" title="Permanent link">&para;</a></h3>
<p>在任务完成时打断点：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="n">Processing_jobs</span><span class="p">[</span><span class="n">job_id</span><span class="p">][</span><span class="s2">&quot;status&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;completed&quot;</span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="n">Processing_jobs</span><span class="p">[</span><span class="n">job_id</span><span class="p">][</span><span class="s2">&quot;progress&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="n">Processing_jobs</span><span class="p">[</span><span class="n">job_id</span><span class="p">][</span><span class="s2">&quot;message&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;处理完成&quot;</span>
</span></code></pre></div>
<ul>
<li><strong>目的</strong>：确认任务是否正确完成。</li>
<li><strong>调试内容</strong>：</li>
<li>检查 <code>processing_jobs[job_id]</code> 的最终状态。</li>
<li>确认 <code>entity_ids</code> 和 <code>entity_count</code> 是否正确。</li>
</ul>
<hr />
<h3 id="9">9. <strong>错误处理</strong><a class="headerlink" href="#9" title="Permanent link">&para;</a></h3>
<p>在异常捕获处打断点：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="n">Logger</span><span class="o">.</span><span class="n">Error</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;处理文件失败: </span><span class="si">{</span><span class="nb">str</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="n">Processing_jobs</span><span class="p">[</span><span class="n">job_id</span><span class="p">][</span><span class="s2">&quot;status&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;failed&quot;</span>
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="n">Processing_jobs</span><span class="p">[</span><span class="n">job_id</span><span class="p">][</span><span class="s2">&quot;message&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;处理失败: </span><span class="si">{</span><span class="nb">str</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</span></code></pre></div>
<ul>
<li><strong>目的</strong>：捕获并调试文件处理中的错误。</li>
<li><strong>调试内容</strong>：</li>
<li>查看异常信息 <code>e</code>。</li>
<li>检查任务状态是否正确更新为 <code>failed</code>。</li>
</ul>
<hr />
<h3 id="_6">总结<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>以下是推荐的关键断点位置：</p>
<ol>
<li><code>upload_file</code> 方法中：</li>
<li><code>job_id = str (uuid. Uuid 4 ())</code></li>
<li><code>processing_jobs[job_id] = {…}</code></li>
<li><code>background_tasks. Add_task</code> 调用处。</li>
<li><code>process_file_background</code> 方法中：</li>
<li><code>processing_jobs[job_id]["progress"] = 10</code></li>
<li><code>file_processor. Process_file</code></li>
<li><code>openai_service. Analyze_entity_document</code></li>
<li><code>cosmos_service. Create_entity</code></li>
<li><code>processing_jobs[job_id]["status"] = "completed"</code></li>
<li>异常捕获处。</li>
</ol>
<p>通过这些断点，您可以完整跟踪文件上传、解析、AI 分析、数据库存储以及任务状态更新的整个流程。</p>
<p>OliverZ 11 x: INFO: Application startup complete.</p>
<p>INFO: 127.0.0.1:61574 - "GET /api/files/upload HTTP/1.1" 405 Method Not Allowed</p>
<p>GitHub Copilot: 从日志中可以看到，您在访问 <code>/api/files/upload</code> 时遇到了 <code>405 Method Not Allowed</code> 错误。这通常是由于以下原因之一导致的：</p>
<hr />
<h3 id="1_6">1. <strong>请求方法错误</strong><a class="headerlink" href="#1_6" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>问题</strong>：<code>/api/files/upload</code> 路由只支持 <code>POST</code> 方法，而您使用了 <code>GET</code> 方法。</li>
<li><strong>解决方法</strong>：</li>
<li>在 Postman 或其他工具中，将请求方法更改为 <code>POST</code>。</li>
<li>
<p>确保请求的 URL 为：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">files</span><span class="o">/</span><span class="n">upload</span>
</span></code></pre></div>
</li>
<li>
<p>在 <code>Body</code> 中选择 <code>form-data</code>，并上传文件。</p>
</li>
</ul>
<hr />
<h3 id="2_5">2. <strong>未正确配置请求体</strong><a class="headerlink" href="#2_5" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>问题</strong>：<code>upload_file</code> 方法需要一个文件作为请求体，但请求中未包含文件。</li>
<li><strong>解决方法</strong>：</li>
<li>在 Postman 中，配置 <code>Body</code> 为 <code>form-data</code>，并添加以下字段：<ul>
<li><strong>Key</strong>: <code>file</code>（类型选择 <code>File</code>）</li>
<li><strong>Value</strong>: 上传一个测试文件。</li>
</ul>
</li>
</ul>
<hr />
<h3 id="3_6">3. <strong>路由未正确注册</strong><a class="headerlink" href="#3_6" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>问题</strong>：如果 <code>file_routes</code> 未正确注册到 FastAPI 应用中，可能导致路由不可用。</li>
<li><strong>解决方法</strong>：</li>
<li>
<p>确保在 <code>main. Py</code> 中包含以下代码：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="n">From</span> <span class="o">.</span><span class="n">api</span> <span class="kn">import</span><span class="w"> </span><span class="nn">file_routes</span>
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a>
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="n">App</span><span class="o">.</span> <span class="n">Include_router</span> <span class="p">(</span><span class="n">file_routes</span><span class="o">.</span> <span class="n">Router</span><span class="p">)</span>
</span></code></pre></div>
</li>
</ul>
<hr />
<h3 id="4_6">4. <strong>调试步骤</strong><a class="headerlink" href="#4_6" title="Permanent link">&para;</a></h3>
<p>如果问题仍然存在，可以按照以下步骤调试：</p>
<ol>
<li><strong>检查路由是否正确注册</strong>：</li>
<li>访问 <code>http://127.0.0.1:8000/docs</code>，查看 Swagger 文档中是否列出了 <code>/api/files/upload</code> 路由。</li>
<li>
<p>如果未列出，说明路由未正确注册。</p>
</li>
<li>
<p><strong>检查请求方法和 URL</strong>：</p>
</li>
<li>
<p>确保请求方法为 <code>POST</code>，URL 为 <code>/api/files/upload</code>。</p>
</li>
<li>
<p><strong>检查日志</strong>：</p>
</li>
<li>查看后端日志，确认是否有其他错误信息。</li>
</ol>
<hr />
<h3 id="postman">示例 Postman 配置<a class="headerlink" href="#postman" title="Permanent link">&para;</a></h3>
<h4 id="post"><strong>请求方法</strong>：<code>POST</code><a class="headerlink" href="#post" title="Permanent link">&para;</a></h4>
<h4 id="url"><strong>URL</strong>：<a class="headerlink" href="#url" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">files</span><span class="o">/</span><span class="n">upload</span>
</span></code></pre></div>
<h4 id="headers"><strong>Headers</strong>：<a class="headerlink" href="#headers" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">multipart</span><span class="o">/</span><span class="n">form</span><span class="o">-</span><span class="n">data</span>
</span></code></pre></div>
<h4 id="body"><strong>Body</strong>：<a class="headerlink" href="#body" title="Permanent link">&para;</a></h4>
<p>选择 <code>form-data</code>，并添加以下字段：</p>
<ul>
<li><strong>Key</strong>: <code>file</code>（类型选择 <code>File</code>）</li>
<li><strong>Value</strong>: 上传一个测试文件。</li>
</ul>
<hr />
<p>通过以上步骤，您应该能够解决 <code>405 Method Not Allowed</code> 的问题。如果问题仍然存在，请提供更多上下文信息，我可以进一步协助分析。#### <strong>Body</strong>：</p>
<p>选择 <code>form-data</code>，并添加以下字段：</p>
<ul>
<li><strong>Key</strong>: <code>file</code>（类型选择 <code>File</code>）</li>
<li><strong>Value</strong>: 上传一个测试文件。</li>
</ul>
<hr />
<p>通过以上步骤，您应该能够解决 <code>405 Method Not Allowed</code> 的问题。如果问题仍然存在，请提供更多上下文信息，我可以进一步协助分析。</p>
<p>OliverZ 11 x: INFO: 127.0.0.1:61590 - "POST /api/files/upload HTTP/1.1" 422 Unprocessable Entity</p>
<p>{</p>
<div class="language-text highlight"><pre><span></span><code>&quot;detail&quot;: [

    {

        &quot;type&quot;: &quot;missing&quot;,

        &quot;loc&quot;: [

            &quot;body&quot;,

            &quot;file&quot;

        ],

        &quot;msg&quot;: &quot;Field required&quot;,

        &quot;input&quot;: null,

        &quot;url&quot;: &quot;https://errors.pydantic.dev/2.11/v/missing&quot;

    }

]
</code></pre></div>
<p>}</p>
<p>GitHub Copilot: 从错误信息来看，<code>POST /api/files/upload</code> 返回了 <code>422 Unprocessable Entity</code>，并提示 <code>file</code> 字段缺失。这表明请求中没有正确传递文件。</p>
<hr />
<h3 id="_7">解决方法<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<h4 id="1_7">1. <strong>确保请求中包含文件</strong><a class="headerlink" href="#1_7" title="Permanent link">&para;</a></h4>
<p>在 Postman 或其他工具中，正确配置请求的 <code>Body</code> 部分：</p>
<ol>
<li><strong>请求方法</strong>：<code>POST</code></li>
<li><strong>URL</strong>：</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">files</span><span class="o">/</span><span class="n">upload</span>
</span></code></pre></div>
<ol>
<li><strong>Headers</strong>：</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">multipart</span><span class="o">/</span><span class="n">form</span><span class="o">-</span><span class="n">data</span>
</span></code></pre></div>
<ol>
<li><strong>Body</strong>：</li>
<li>选择 <code>form-data</code>。</li>
<li>添加以下字段：<ul>
<li><strong>Key</strong>：<code>file</code>（类型选择 <code>File</code>）</li>
<li><strong>Value</strong>：上传一个测试文件。</li>
</ul>
</li>
</ol>
<hr />
<h4 id="2_6">2. <strong>验证路由代码</strong><a class="headerlink" href="#2_6" title="Permanent link">&para;</a></h4>
<p>确保 <code>upload_file</code> 方法的参数定义正确：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="nd">@router</span><span class="o">.</span><span class="n">Post</span> <span class="p">(</span><span class="s2">&quot;/upload&quot;</span><span class="p">)</span>
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="n">Async</span> <span class="k">def</span><span class="w"> </span><span class="nf">upload_file</span> <span class="p">(</span>
</span><span id="__span-55-3"><a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a>    <span class="n">Background_tasks</span><span class="p">:</span> <span class="n">BackgroundTasks</span><span class="p">,</span>
</span><span id="__span-55-4"><a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a>    <span class="n">File</span><span class="p">:</span> <span class="n">UploadFile</span> <span class="o">=</span> <span class="n">File</span> <span class="p">(</span><span class="o">...</span><span class="p">),</span>  <span class="c1"># 确保这里的 `file` 参数正确定义</span>
</span><span id="__span-55-5"><a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a>    <span class="n">File_processor</span><span class="p">:</span> <span class="n">FileProcessor</span> <span class="o">=</span> <span class="n">Depends</span> <span class="p">(</span><span class="n">get_file_processor</span><span class="p">),</span>
</span><span id="__span-55-6"><a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a>    <span class="n">Cosmos_service</span><span class="p">:</span> <span class="n">CosmosDBService</span> <span class="o">=</span> <span class="n">Depends</span> <span class="p">(</span><span class="n">get_cosmos_service</span><span class="p">),</span>
</span><span id="__span-55-7"><a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a>    <span class="n">Openai_service</span><span class="p">:</span> <span class="n">OpenAIService</span> <span class="o">=</span> <span class="n">Depends</span> <span class="p">(</span><span class="n">get_openai_service</span><span class="p">)</span>
</span><span id="__span-55-8"><a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a><span class="p">):</span>
</span></code></pre></div>
<ul>
<li><code>file: UploadFile = File (…)</code> 表示该参数是必需的，并且必须通过 <code>multipart/form-data</code> 上传。</li>
</ul>
<hr />
<h4 id="3_7">3. <strong>检查请求是否正确发送</strong><a class="headerlink" href="#3_7" title="Permanent link">&para;</a></h4>
<p>如果仍然出现问题，可以通过以下方式调试：</p>
<ol>
<li><strong>打印请求内容</strong>：
   在 <code>upload_file</code> 方法中添加日志，打印接收到的 <code>file</code> 参数：</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="n">Logger</span><span class="o">.</span><span class="n">Info</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;接收到的文件: </span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<ol>
<li><strong>检查 FastAPI 文档</strong>：
   访问 <code>http://127.0.0.1:8000/docs</code>，在 Swagger UI 中测试 <code>/api/files/upload</code> 路由，确保路由和参数定义正确。</li>
</ol>
<hr />
<h4 id="4-postman">4. <strong>Postman 示例配置</strong><a class="headerlink" href="#4-postman" title="Permanent link">&para;</a></h4>
<p>以下是 Postman 的正确配置：</p>
<ul>
<li><strong>请求方法</strong>：<code>POST</code></li>
<li><strong>URL</strong>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">files</span><span class="o">/</span><span class="n">upload</span>
</span></code></pre></div>
<ul>
<li><strong>Headers</strong>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">multipart</span><span class="o">/</span><span class="n">form</span><span class="o">-</span><span class="n">data</span>
</span></code></pre></div>
<ul>
<li><strong>Body</strong>：</li>
<li>选择 <code>form-data</code>。</li>
<li>添加字段：<ul>
<li><strong>Key</strong>：<code>file</code>（类型选择 <code>File</code>）</li>
<li><strong>Value</strong>：上传一个文件（例如 <code>test. Txt</code>）。</li>
</ul>
</li>
</ul>
<hr />
<h4 id="5_5">5. <strong>测试代码</strong><a class="headerlink" href="#5_5" title="Permanent link">&para;</a></h4>
<p>如果您希望通过代码测试，可以使用 Python 的 <code>requests</code> 库发送请求：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="n">Import</span> <span class="n">requests</span>
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a>
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;http://127.0.0.1:8000/api/files/upload&quot;</span>
</span><span id="__span-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="n">Files</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="nb">open</span> <span class="p">(</span><span class="s2">&quot;test. Txt&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)}</span>
</span><span id="__span-59-5"><a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="n">Response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Post</span> <span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="n">files</span><span class="p">)</span>
</span><span id="__span-59-6"><a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a>
</span><span id="__span-59-7"><a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a><span class="n">Print</span> <span class="p">(</span><span class="n">response</span><span class="o">.</span> <span class="n">Status_code</span><span class="p">)</span>
</span><span id="__span-59-8"><a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a><span class="n">Print</span> <span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">Json</span> <span class="p">())</span>
</span></code></pre></div>
<hr />
<h3 id="_8">总结<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p><code>422 Unprocessable Entity</code> 错误通常是由于请求中缺少必需字段导致的。通过正确配置 Postman 或其他客户端的请求，确保 <code>file</code> 字段以 <code>multipart/form-data</code> 的形式上传，应该可以解决问题。如果问题仍然存在，请提供更多上下文信息，我可以进一步协助分析。</p>
<p>OliverZ 11 x: 取 df 中第一个元素</p>
<p>GitHub Copilot: 要从 <code>df</code>（DataFrame）中获取第一个元素，可以使用 <code>iloc</code> 方法。以下是如何在代码中实现的示例：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="c1"># 获取 DataFrame 的第一个元素</span>
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a><span class="n">First_element</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span> <span class="n">Iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># 获取第一行</span>
</span><span id="__span-60-3"><a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a><span class="n">Print</span> <span class="p">(</span><span class="n">first_element</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="_9">解释<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<ul>
<li><code>df. Iloc[0]</code>：表示获取 DataFrame 的第一行。</li>
<li>如果需要获取第一行的某一列，可以进一步指定列名，例如：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="n">First_value</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span> <span class="n">Iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;column_name&quot;</span><span class="p">]</span>
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="n">Print</span> <span class="p">(</span><span class="n">first_value</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="_10">在您的代码中的应用<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>假设您希望在 <code>process_table_file</code> 方法中获取 <code>df</code> 的第一个元素，可以在以下位置添加代码：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="n">If</span> <span class="n">file_ext</span> <span class="o">==</span> <span class="s1">&#39;csv&#39;</span><span class="p">:</span>
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a>    <span class="n">Df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span> <span class="n">Read_csv</span> <span class="p">(</span><span class="n">file_content</span><span class="p">)</span>
</span><span id="__span-62-3"><a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="n">Else</span><span class="p">:</span>  <span class="c1"># Excel 文件</span>
</span><span id="__span-62-4"><a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a>    <span class="n">Df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span> <span class="n">Read_excel</span> <span class="p">(</span><span class="n">file_content</span><span class="p">)</span>
</span><span id="__span-62-5"><a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a>
</span><span id="__span-62-6"><a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a><span class="c1"># 获取第一个元素</span>
</span><span id="__span-62-7"><a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a><span class="n">First_element</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span> <span class="n">Iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-62-8"><a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a><span class="n">Logger</span><span class="o">.</span><span class="n">Info</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;第一个元素: </span><span class="si">{</span><span class="n">first_element</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>这样，您可以在日志中查看 <code>df</code> 的第一个元素内容。</p>
<p>OliverZ 11 x: 通过 postman 测试该服务</p>
<p>GitHub Copilot: 要通过 Postman 测试 entity_routes. Py 中的服务，可以按照以下步骤操作：</p>
<hr />
<h3 id="1_8">1. <strong>启动后端服务</strong><a class="headerlink" href="#1_8" title="Permanent link">&para;</a></h3>
<p>确保后端服务已经启动，并监听默认端口 <code>8000</code>。如果使用的是 FastAPI，默认情况下可以通过以下命令启动：</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a>uvicorn<span class="w"> </span>backend.main:app<span class="w"> </span>--host<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span>--port<span class="w"> </span><span class="m">8000</span>
</span></code></pre></div>
<hr />
<h3 id="2-postman_1">2. <strong>Postman 测试接口</strong><a class="headerlink" href="#2-postman_1" title="Permanent link">&para;</a></h3>
<h4 id="21_1"><strong>2.1 获取实体列表</strong><a class="headerlink" href="#21_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>请求方法</strong>：<code>GET</code></li>
<li><strong>URL</strong>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">entities</span><span class="o">/</span>
</span></code></pre></div>
<ul>
<li><strong>可选查询参数</strong>：</li>
<li><code>search_text</code>：用于搜索的文本。</li>
<li><code>domain</code>：用于过滤的领域。</li>
<li><strong>示例请求</strong>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">entities</span><span class="o">/</span><span class="err">?</span><span class="n">search_text</span><span class="o">=</span><span class="n">John</span><span class="o">&amp;</span><span class="n">domain</span><span class="o">=</span><span class="n">Technology</span>
</span></code></pre></div>
<ul>
<li><strong>示例响应</strong>：</li>
</ul>
<div class="language-json highlight"><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="p">{</span>
</span><span id="__span-66-2"><a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="w">    </span><span class="nt">&quot;entities&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-66-3"><a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-66-4"><a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a><span class="w">            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;entity 1&quot;</span><span class="p">,</span>
</span><span id="__span-66-5"><a id="__codelineno-66-5" name="__codelineno-66-5" href="#__codelineno-66-5"></a><span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
</span><span id="__span-66-6"><a id="__codelineno-66-6" name="__codelineno-66-6" href="#__codelineno-66-6"></a><span class="w">            </span><span class="nt">&quot;domain&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Technology&quot;</span><span class="p">,</span>
</span><span id="__span-66-7"><a id="__codelineno-66-7" name="__codelineno-66-7" href="#__codelineno-66-7"></a><span class="w">            </span><span class="nt">&quot;attributes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-66-8"><a id="__codelineno-66-8" name="__codelineno-66-8" href="#__codelineno-66-8"></a><span class="w">                </span><span class="nt">&quot;age&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span>
</span><span id="__span-66-9"><a id="__codelineno-66-9" name="__codelineno-66-9" href="#__codelineno-66-9"></a><span class="w">                </span><span class="nt">&quot;gender&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;male&quot;</span>
</span><span id="__span-66-10"><a id="__codelineno-66-10" name="__codelineno-66-10" href="#__codelineno-66-10"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-66-11"><a id="__codelineno-66-11" name="__codelineno-66-11" href="#__codelineno-66-11"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-66-12"><a id="__codelineno-66-12" name="__codelineno-66-12" href="#__codelineno-66-12"></a><span class="w">    </span><span class="p">],</span>
</span><span id="__span-66-13"><a id="__codelineno-66-13" name="__codelineno-66-13" href="#__codelineno-66-13"></a><span class="w">    </span><span class="nt">&quot;count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-66-14"><a id="__codelineno-66-14" name="__codelineno-66-14" href="#__codelineno-66-14"></a><span class="p">}</span>
</span></code></pre></div>
<hr />
<h4 id="22_1"><strong>2.2 获取单个实体</strong><a class="headerlink" href="#22_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>请求方法</strong>：<code>GET</code></li>
<li><strong>URL</strong>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">entities</span><span class="o">/</span><span class="p">{</span><span class="n">entity_id</span><span class="p">}</span>
</span></code></pre></div>
<p>将 <code>{entity_id}</code> 替换为实际的实体 ID。</p>
<ul>
<li><strong>示例请求</strong>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">entities</span><span class="o">/</span><span class="n">entity1</span>
</span></code></pre></div>
<ul>
<li><strong>示例响应</strong>：</li>
</ul>
<div class="language-json highlight"><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="p">{</span>
</span><span id="__span-69-2"><a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;entity 1&quot;</span><span class="p">,</span>
</span><span id="__span-69-3"><a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a><span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;John Doe&quot;</span><span class="p">,</span>
</span><span id="__span-69-4"><a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a><span class="w">    </span><span class="nt">&quot;domain&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Technology&quot;</span><span class="p">,</span>
</span><span id="__span-69-5"><a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a><span class="w">    </span><span class="nt">&quot;attributes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-69-6"><a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a><span class="w">        </span><span class="nt">&quot;age&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span>
</span><span id="__span-69-7"><a id="__codelineno-69-7" name="__codelineno-69-7" href="#__codelineno-69-7"></a><span class="w">        </span><span class="nt">&quot;gender&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;male&quot;</span>
</span><span id="__span-69-8"><a id="__codelineno-69-8" name="__codelineno-69-8" href="#__codelineno-69-8"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-69-9"><a id="__codelineno-69-9" name="__codelineno-69-9" href="#__codelineno-69-9"></a><span class="p">}</span>
</span></code></pre></div>
<hr />
<h4 id="23_1"><strong>2.3 创建新实体</strong><a class="headerlink" href="#23_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>请求方法</strong>：<code>POST</code></li>
<li><strong>URL</strong>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">entities</span><span class="o">/</span>
</span></code></pre></div>
<ul>
<li><strong>Headers</strong>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
</span></code></pre></div>
<ul>
<li><strong>Body</strong>（JSON 格式）：</li>
</ul>
<div class="language-json highlight"><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="p">{</span>
</span><span id="__span-72-2"><a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;entity 2&quot;</span><span class="p">,</span>
</span><span id="__span-72-3"><a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a><span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jane Smith&quot;</span><span class="p">,</span>
</span><span id="__span-72-4"><a id="__codelineno-72-4" name="__codelineno-72-4" href="#__codelineno-72-4"></a><span class="w">    </span><span class="nt">&quot;domain&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Science&quot;</span><span class="p">,</span>
</span><span id="__span-72-5"><a id="__codelineno-72-5" name="__codelineno-72-5" href="#__codelineno-72-5"></a><span class="w">    </span><span class="nt">&quot;attributes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-72-6"><a id="__codelineno-72-6" name="__codelineno-72-6" href="#__codelineno-72-6"></a><span class="w">        </span><span class="nt">&quot;age&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span>
</span><span id="__span-72-7"><a id="__codelineno-72-7" name="__codelineno-72-7" href="#__codelineno-72-7"></a><span class="w">        </span><span class="nt">&quot;gender&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;female&quot;</span>
</span><span id="__span-72-8"><a id="__codelineno-72-8" name="__codelineno-72-8" href="#__codelineno-72-8"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-72-9"><a id="__codelineno-72-9" name="__codelineno-72-9" href="#__codelineno-72-9"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li><strong>示例响应</strong>：</li>
</ul>
<div class="language-json highlight"><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="p">{</span>
</span><span id="__span-73-2"><a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;entity 2&quot;</span><span class="p">,</span>
</span><span id="__span-73-3"><a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;实体创建成功&quot;</span>
</span><span id="__span-73-4"><a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a><span class="p">}</span>
</span></code></pre></div>
<hr />
<h4 id="24"><strong>2.4 更新实体</strong><a class="headerlink" href="#24" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>请求方法</strong>：<code>PUT</code></li>
<li><strong>URL</strong>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">entities</span><span class="o">/</span><span class="p">{</span><span class="n">entity_id</span><span class="p">}</span>
</span></code></pre></div>
<p>将 <code>{entity_id}</code> 替换为实际的实体 ID。</p>
<ul>
<li><strong>Headers</strong>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
</span></code></pre></div>
<ul>
<li><strong>Body</strong>（JSON 格式）：</li>
</ul>
<div class="language-json highlight"><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="p">{</span>
</span><span id="__span-76-2"><a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a><span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jane Doe&quot;</span><span class="p">,</span>
</span><span id="__span-76-3"><a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a><span class="w">    </span><span class="nt">&quot;attributes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-76-4"><a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a><span class="w">        </span><span class="nt">&quot;age&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span>
</span><span id="__span-76-5"><a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-76-6"><a id="__codelineno-76-6" name="__codelineno-76-6" href="#__codelineno-76-6"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li><strong>示例响应</strong>：</li>
</ul>
<div class="language-json highlight"><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="p">{</span>
</span><span id="__span-77-2"><a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;entity 2&quot;</span><span class="p">,</span>
</span><span id="__span-77-3"><a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;实体更新成功&quot;</span>
</span><span id="__span-77-4"><a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a><span class="p">}</span>
</span></code></pre></div>
<hr />
<h4 id="25"><strong>2.5 删除实体</strong><a class="headerlink" href="#25" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>请求方法</strong>：<code>DELETE</code></li>
<li><strong>URL</strong>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-78-1"><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">entities</span><span class="o">/</span><span class="p">{</span><span class="n">entity_id</span><span class="p">}</span>
</span></code></pre></div>
<p>将 <code>{entity_id}</code> 替换为实际的实体 ID。</p>
<ul>
<li><strong>示例请求</strong>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-79-1"><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">entities</span><span class="o">/</span><span class="n">entity2</span>
</span></code></pre></div>
<ul>
<li><strong>示例响应</strong>：</li>
</ul>
<div class="language-json highlight"><pre><span></span><code><span id="__span-80-1"><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="p">{</span>
</span><span id="__span-80-2"><a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;实体 entity 2 删除成功&quot;</span>
</span><span id="__span-80-3"><a id="__codelineno-80-3" name="__codelineno-80-3" href="#__codelineno-80-3"></a><span class="p">}</span>
</span></code></pre></div>
<hr />
<h4 id="26"><strong>2.6 获取实体的关系列表</strong><a class="headerlink" href="#26" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>请求方法</strong>：<code>GET</code></li>
<li><strong>URL</strong>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-81-1"><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">entities</span><span class="o">/</span><span class="p">{</span><span class="n">entity_id</span><span class="p">}</span><span class="o">/</span><span class="n">relationships</span>
</span></code></pre></div>
<p>将 <code>{entity_id}</code> 替换为实际的实体 ID。</p>
<ul>
<li><strong>示例请求</strong>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-82-1"><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">entities</span><span class="o">/</span><span class="n">entity1</span><span class="o">/</span><span class="n">relationships</span>
</span></code></pre></div>
<ul>
<li><strong>示例响应</strong>：</li>
</ul>
<div class="language-json highlight"><pre><span></span><code><span id="__span-83-1"><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="p">{</span>
</span><span id="__span-83-2"><a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a><span class="w">    </span><span class="nt">&quot;entity_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;entity 1&quot;</span><span class="p">,</span>
</span><span id="__span-83-3"><a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a><span class="w">    </span><span class="nt">&quot;relationships&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-83-4"><a id="__codelineno-83-4" name="__codelineno-83-4" href="#__codelineno-83-4"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-83-5"><a id="__codelineno-83-5" name="__codelineno-83-5" href="#__codelineno-83-5"></a><span class="w">            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;relationship 1&quot;</span><span class="p">,</span>
</span><span id="__span-83-6"><a id="__codelineno-83-6" name="__codelineno-83-6" href="#__codelineno-83-6"></a><span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;colleague&quot;</span><span class="p">,</span>
</span><span id="__span-83-7"><a id="__codelineno-83-7" name="__codelineno-83-7" href="#__codelineno-83-7"></a><span class="w">            </span><span class="nt">&quot;target_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;entity 2&quot;</span><span class="p">,</span>
</span><span id="__span-83-8"><a id="__codelineno-83-8" name="__codelineno-83-8" href="#__codelineno-83-8"></a><span class="w">            </span><span class="nt">&quot;attributes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-83-9"><a id="__codelineno-83-9" name="__codelineno-83-9" href="#__codelineno-83-9"></a><span class="w">                </span><span class="nt">&quot;since&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2020&quot;</span>
</span><span id="__span-83-10"><a id="__codelineno-83-10" name="__codelineno-83-10" href="#__codelineno-83-10"></a><span class="w">            </span><span class="p">}</span>
</span><span id="__span-83-11"><a id="__codelineno-83-11" name="__codelineno-83-11" href="#__codelineno-83-11"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-83-12"><a id="__codelineno-83-12" name="__codelineno-83-12" href="#__codelineno-83-12"></a><span class="w">    </span><span class="p">]</span>
</span><span id="__span-83-13"><a id="__codelineno-83-13" name="__codelineno-83-13" href="#__codelineno-83-13"></a><span class="p">}</span>
</span></code></pre></div>
<hr />
<h4 id="27"><strong>2.7 添加实体关系</strong><a class="headerlink" href="#27" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>请求方法</strong>：<code>POST</code></li>
<li><strong>URL</strong>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-84-1"><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0.0.1</span><span class="p">:</span><span class="mi">8000</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">entities</span><span class="o">/</span><span class="p">{</span><span class="n">entity_id</span><span class="p">}</span><span class="o">/</span><span class="n">relationships</span>
</span></code></pre></div>
<p>将 <code>{entity_id}</code> 替换为实际的实体 ID。</p>
<ul>
<li><strong>Headers</strong>：</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-85-1"><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">json</span>
</span></code></pre></div>
<ul>
<li><strong>Body</strong>（JSON 格式）：</li>
</ul>
<div class="language-json highlight"><pre><span></span><code><span id="__span-86-1"><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="p">{</span>
</span><span id="__span-86-2"><a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;relationship 2&quot;</span><span class="p">,</span>
</span><span id="__span-86-3"><a id="__codelineno-86-3" name="__codelineno-86-3" href="#__codelineno-86-3"></a><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;friend&quot;</span><span class="p">,</span>
</span><span id="__span-86-4"><a id="__codelineno-86-4" name="__codelineno-86-4" href="#__codelineno-86-4"></a><span class="w">    </span><span class="nt">&quot;target_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;entity 3&quot;</span><span class="p">,</span>
</span><span id="__span-86-5"><a id="__codelineno-86-5" name="__codelineno-86-5" href="#__codelineno-86-5"></a><span class="w">    </span><span class="nt">&quot;attributes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-86-6"><a id="__codelineno-86-6" name="__codelineno-86-6" href="#__codelineno-86-6"></a><span class="w">        </span><span class="nt">&quot;since&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2015&quot;</span>
</span><span id="__span-86-7"><a id="__codelineno-86-7" name="__codelineno-86-7" href="#__codelineno-86-7"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-86-8"><a id="__codelineno-86-8" name="__codelineno-86-8" href="#__codelineno-86-8"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li><strong>示例响应</strong>：</li>
</ul>
<div class="language-json highlight"><pre><span></span><code><span id="__span-87-1"><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="p">{</span>
</span><span id="__span-87-2"><a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a><span class="w">    </span><span class="nt">&quot;entity_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;entity 1&quot;</span><span class="p">,</span>
</span><span id="__span-87-3"><a id="__codelineno-87-3" name="__codelineno-87-3" href="#__codelineno-87-3"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;关系添加成功&quot;</span>
</span><span id="__span-87-4"><a id="__codelineno-87-4" name="__codelineno-87-4" href="#__codelineno-87-4"></a><span class="p">}</span>
</span></code></pre></div>
<hr />
<h3 id="3_8">3. <strong>调试注意事项</strong><a class="headerlink" href="#3_8" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>检查路由是否正确注册</strong>：</li>
<li>访问 <code>http://127.0.0.1:8000/docs</code>，查看 Swagger 文档中是否列出了 <code>/api/entities</code> 相关路由。</li>
<li><strong>检查日志</strong>：</li>
<li>如果请求失败，可以查看后端日志，定位问题。</li>
<li><strong>验证依赖服务</strong>：</li>
<li>确保 <code>CosmosDBService</code> 和 <code>AISearchService</code> 正常工作。</li>
</ol>
<p>通过以上步骤，您可以使用 Postman 测试 entity_routes. Py 中的所有功能。如果遇到问题，请提供具体的错误信息，我可以进一步协助分析。</p>
<p>OliverZ 11 x: def search_entities (self, search_text: str, filter_condition: str = None, top: int = 50) -&gt; List[Dict[str, Any]]:</p>
<div class="language-text highlight"><pre><span></span><code>    &quot;&quot;&quot;搜索实体&quot;&quot;&quot;

    Try:

        # 执行搜索

        Results = self. Search_client.Search (

            Search_text=search_text,

            # filter=filter_condition,

            Top=top,

            Include_total_count=True

        )


        # 转换结果
        Entities = []
        For result in results:
            Entity = dict (result)
            Entities.Append (entity)

        Return entities
    Except Exception as e:
        Logger.Error (f&quot;搜索实体失败: {str (e)}&quot;)
        Raise
</code></pre></div>
<p>Filter_condition 是怎么定义的，有什么用</p>
<p>GitHub Copilot: <code>filter_condition</code> 是 Azure Cognitive Search 中的一个过滤条件，用于在搜索时对结果进行筛选。它的作用是通过指定的条件过滤搜索结果，从而返回更精确的结果集。</p>
<hr />
<h3 id="filter_condition"><strong><code>filter_condition</code> 的定义</strong><a class="headerlink" href="#filter_condition" title="Permanent link">&para;</a></h3>
<p>在 <code>search_entities</code> 方法中，<code>filter_condition</code> 是一个字符串，表示 Azure Cognitive Search 的过滤表达式。它遵循 <a href="https://learn.microsoft.com/en-us/azure/search/search-query-odata-filter">OData 语法</a> 的规则。</p>
<p>例如：</p>
<ul>
<li><code>filter_condition = "domain eq 'Technology'"</code>：筛选 <code>domain</code> 字段等于 <code>'Technology'</code> 的实体。</li>
<li><code>filter_condition = "age gt 30"</code>：筛选 <code>age</code> 字段大于 <code>30</code> 的实体。</li>
<li><code>filter_condition = "gender eq 'male' and country eq 'USA'"</code>：筛选 <code>gender</code> 为 <code>'male'</code> 且 <code>country</code> 为 <code>'USA'</code> 的实体。</li>
</ul>
<hr />
<h3 id="filter_condition_1"><strong><code>filter_condition</code> 的作用</strong><a class="headerlink" href="#filter_condition_1" title="Permanent link">&para;</a></h3>
<p>在 <code>search_client. Search</code> 方法中，<code>filter</code> 参数用于指定过滤条件。通过设置 <code>filter_condition</code>，可以对搜索结果进行进一步的筛选。例如：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-88-1"><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="n">Results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span> <span class="n">Search_client</span><span class="o">.</span><span class="n">Search</span> <span class="p">(</span>
</span><span id="__span-88-2"><a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a>    <span class="n">Search_text</span><span class="o">=</span><span class="n">search_text</span><span class="p">,</span>
</span><span id="__span-88-3"><a id="__codelineno-88-3" name="__codelineno-88-3" href="#__codelineno-88-3"></a>    <span class="n">Filter</span><span class="o">=</span><span class="n">filter_condition</span><span class="p">,</span>  <span class="c1"># 使用过滤条件</span>
</span><span id="__span-88-4"><a id="__codelineno-88-4" name="__codelineno-88-4" href="#__codelineno-88-4"></a>    <span class="n">Top</span><span class="o">=</span><span class="n">top</span><span class="p">,</span>
</span><span id="__span-88-5"><a id="__codelineno-88-5" name="__codelineno-88-5" href="#__codelineno-88-5"></a>    <span class="n">Include_total_count</span><span class="o">=</span><span class="kc">True</span>
</span><span id="__span-88-6"><a id="__codelineno-88-6" name="__codelineno-88-6" href="#__codelineno-88-6"></a><span class="p">)</span>
</span></code></pre></div>
<p>如果 <code>filter_condition</code> 被注释掉（如代码中所示），则搜索结果不会进行任何筛选，返回的结果集可能包含所有匹配 <code>search_text</code> 的实体。</p>
<hr />
<h3 id="_11"><strong>示例用法</strong><a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<h4 id="1_9"><strong>1. 无过滤条件</strong><a class="headerlink" href="#1_9" title="Permanent link">&para;</a></h4>
<p>如果 <code>filter_condition</code> 为 <code>None</code>，则返回所有匹配 <code>search_text</code> 的实体：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-89-1"><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="n">Search_text</span> <span class="o">=</span> <span class="s2">&quot;John&quot;</span>
</span><span id="__span-89-2"><a id="__codelineno-89-2" name="__codelineno-89-2" href="#__codelineno-89-2"></a><span class="n">Filter_condition</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-89-3"><a id="__codelineno-89-3" name="__codelineno-89-3" href="#__codelineno-89-3"></a><span class="n">Entities</span> <span class="o">=</span> <span class="n">search_entities</span> <span class="p">(</span><span class="n">search_text</span><span class="p">,</span> <span class="n">filter_condition</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>结果</strong>：返回所有包含 <code>John</code> 的实体。</p>
<hr />
<h4 id="2_7"><strong>2. 使用过滤条件</strong><a class="headerlink" href="#2_7" title="Permanent link">&para;</a></h4>
<p>如果需要筛选特定领域的实体，可以设置 <code>filter_condition</code>：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-90-1"><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="n">Search_text</span> <span class="o">=</span> <span class="s2">&quot;John&quot;</span>
</span><span id="__span-90-2"><a id="__codelineno-90-2" name="__codelineno-90-2" href="#__codelineno-90-2"></a><span class="n">Filter_condition</span> <span class="o">=</span> <span class="s2">&quot;domain eq &#39;Technology&#39;&quot;</span>
</span><span id="__span-90-3"><a id="__codelineno-90-3" name="__codelineno-90-3" href="#__codelineno-90-3"></a><span class="n">Entities</span> <span class="o">=</span> <span class="n">search_entities</span> <span class="p">(</span><span class="n">search_text</span><span class="p">,</span> <span class="n">filter_condition</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>结果</strong>：只返回 <code>domain</code> 字段等于 <code>'Technology'</code> 且包含 <code>John</code> 的实体。</p>
<hr />
<h4 id="3_9"><strong>3. 复杂过滤条件</strong><a class="headerlink" href="#3_9" title="Permanent link">&para;</a></h4>
<p>可以组合多个条件进行筛选：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-91-1"><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a><span class="n">Search_text</span> <span class="o">=</span> <span class="s2">&quot;John&quot;</span>
</span><span id="__span-91-2"><a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a><span class="n">Filter_condition</span> <span class="o">=</span> <span class="s2">&quot;domain eq &#39;Technology&#39; and age gt 30&quot;</span>
</span><span id="__span-91-3"><a id="__codelineno-91-3" name="__codelineno-91-3" href="#__codelineno-91-3"></a><span class="n">Entities</span> <span class="o">=</span> <span class="n">search_entities</span> <span class="p">(</span><span class="n">search_text</span><span class="p">,</span> <span class="n">filter_condition</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>结果</strong>：返回 <code>domain</code> 为 <code>'Technology'</code> 且 <code>age</code> 大于 <code>30</code> 的实体。</p>
<hr />
<h3 id="_12"><strong>常见字段的过滤示例</strong><a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>假设索引中有以下字段：</p>
<ul>
<li><code>domain</code>：实体所属领域。</li>
<li><code>age</code>：实体的年龄。</li>
<li><code>gender</code>：实体的性别。</li>
<li><code>country</code>：实体所在国家。</li>
</ul>
<p>以下是一些常见的过滤条件：</p>
<ol>
<li><strong>筛选特定领域</strong>：</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span id="__span-92-1"><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a><span class="n">Filter_condition</span> <span class="o">=</span> <span class="s2">&quot;domain eq &#39;Science&#39;&quot;</span>
</span></code></pre></div>
<ol>
<li><strong>筛选年龄大于 30 的实体</strong>：</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span id="__span-93-1"><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a><span class="n">Filter_condition</span> <span class="o">=</span> <span class="s2">&quot;age gt 30&quot;</span>
</span></code></pre></div>
<ol>
<li><strong>筛选男性实体</strong>：</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span id="__span-94-1"><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a><span class="n">Filter_condition</span> <span class="o">=</span> <span class="s2">&quot;gender eq &#39;male&#39;&quot;</span>
</span></code></pre></div>
<ol>
<li><strong>筛选多个条件</strong>：</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span id="__span-95-1"><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a><span class="n">Filter_condition</span> <span class="o">=</span> <span class="s2">&quot;gender eq &#39;female&#39; and country eq &#39;USA&#39;&quot;</span>
</span></code></pre></div>
<hr />
<h3 id="_13"><strong>注意事项</strong><a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>字段名称必须与索引定义一致</strong>：</li>
<li>在 <code>_create_index</code> 方法中定义的字段名称（如 <code>domain</code>、<code>age</code> 等）必须与 <code>filter_condition</code> 中的字段名称一致。</li>
<li><strong>字段必须支持过滤</strong>：</li>
<li>
<p>在索引定义中，字段需要设置 <code>filterable=True</code> 才能用于过滤。例如：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-96-1"><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a><span class="n">SearchableField</span> <span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;domain&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">SearchFieldDataType</span><span class="o">.</span> <span class="n">String</span><span class="p">,</span> <span class="n">filterable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></code></pre></div>
</li>
<li>
<p><strong>语法错误</strong>：</p>
</li>
<li>如果 <code>filter_condition</code> 的语法不正确，Azure Cognitive Search 会返回错误。</li>
</ol>
<hr />
<h3 id="_14"><strong>总结</strong><a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p><code>filter_condition</code> 是一个字符串，用于在 Azure Cognitive Search 中对搜索结果进行筛选。它的作用是通过指定条件（如字段值的比较）来精确控制返回的结果集。通过结合 <code>search_text</code> 和 <code>filter_condition</code>，可以实现更灵活的搜索功能。</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Born Originally & Die Distinctly.
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/OliverZ11x" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.instagram.com/zhao.shi.yi/" target="_blank" rel="noopener" title="www.instagram.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141m0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7m146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8m76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8M398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="../../01attachment/javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
      
    
  </body>
</html>